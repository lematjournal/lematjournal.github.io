"use strict";angular.module("lematClient",["ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap","ngAside","duScroll","ngWig","angular.filter","wysiwyg.module","ng.deviceDetector","angularUtils.directives.dirPagination","validation.match","ui.bootstrap","angucomplete-alt","ngTagsInput","flow"]).value("duScrollDuration",2e3).value("duScrollOffset",30).config(["flowFactoryProvider","$routeProvider",function(a,b){a.defaults={target:"",permanentErrors:[404,500,501],maxChunkRetries:1,chunkRetryInterval:5e3,simultaneousUploads:4,singleFile:!0},a.on("catchAll",function(a){console.log("catchAll",arguments)}),b.when("/",{templateUrl:"views/main.html",controller:"EntryController"}).when("/entry-admin",{templateUrl:"views/forms/entry-admin.html",controller:"EntryController"}).when("/entry-create",{templateUrl:"views/forms/entry-create.html",controller:"EntryController"}).when("/entry/:id/edit",{templateUrl:"views/forms/entry-edit.html",controller:"EntryController"}).when("/entry/:id",{templateUrl:"views/entry-view.html",controller:"EntryController"}).when("/issue-admin",{templateUrl:"views/forms/issue-admin.html",controller:"IssueController"}).when("/issues/",{templateUrl:"views/issue-list.html",controller:"IssueController"}).when("/issue/:id",{templateUrl:"views/issue.html",controller:"IssueController"}).when("/issue/:id/edit",{templateUrl:"views/forms/issue-edit.html",controller:"IssueController"}).when("/issue/:id/:piece/edit",{templateUrl:"views/forms/piece-edit.html",controller:"IssueController"}).when("/piece-create",{templateUrl:"views/forms/piece-create.html",controller:"IssueController"}).when("/issue/:id/:piece",{templateUrl:"views/forms/piece-preview.html",controller:"IssueController"}).when("/issue/:id/image/:image_title",{templateUrl:"views/image-view.html",controller:"IssueController"}).when("/online",{templateUrl:"views/online.html",controller:"PostController"}).when("/online-admin",{templateUrl:"views/forms/online-admin.html",controller:"PostController"}).when("/post-create",{templateUrl:"views/forms/post-create.html",controller:"PostController"}).when("/:post/edit",{templateUrl:"views/forms/post-edit.html",controller:"PostController"}).when("/online/:post",{templateUrl:"views/post-view.html",controller:"PostController"}).when("/user-admin",{templateUrl:"views/forms/user-admin.html",controller:"UserController"}).when("/user-create",{templateUrl:"views/forms/user-create.html",controller:"UserController"}).when("/user/:user/edit",{templateUrl:"views/forms/user-edit.html",controller:"UserController"}).when("/user/:user",{templateUrl:"views/user-view.html",controller:"UserController"}).when("/control-panel",{templateUrl:"views/forms/control-panel.html"}).when("/submissions",{templateUrl:"views/submissions.html"}).when("/editors",{templateUrl:"views/editors.html",controller:"UserController"}).when("/about",{templateUrl:"views/about.html"}).when("/login",{templateUrl:"views/login.html",controller:"AdminController"}).otherwise({redirectTo:"/"})}]),angular.module("lematClient").constant("ServerUrl","https://lematjournal.herokuapp.com"),angular.module("lematClient").controller("AdminController",["$scope","$location","$route","AuthFactory",function(a,b,c,d){a.postCredentials=function(a){d.login(a),b.path("/"),c.reload()}}]),angular.module("lematClient").controller("MainController",["$scope","$rootScope","$document","$location","$route","$routeParams","$http","AuthFactory","deviceDetector",function(a,b,c,d,e,f,g,h,i){a.isAuthenticated=function(){return h.isAuthenticated()},a.logout=function(){h.logout()},a.refresh=function(){h.login(h.returnCredentials())},a.$on("scroll",function(b,c){a.title=c}),a.$on("$locationChangeStart",function(b){"/issue/:id"!=d.url()&&(a.title="")}),a.$watch(function(){return"/issue-admin"===d.url()},function(a){1!=a||h.isAuthenticated()||d.path("/")}),a.$watch(function(){return"/piece-create"===d.url()},function(a){1!=a||h.isAuthenticated()||d.path("/")}),a.$watch(function(){return"/issue/:id/edit"===d.url()},function(a){1!=a||h.isAuthenticated()||d.path("/")}),a.$watch(function(){return"/issue/:id/:piece/edit"===d.url()},function(a){1!=a||h.isAuthenticated()||d.path("/")}),a.$watch(function(){return"/:post/edit"===d.url()},function(a){1!=a||h.isAuthenticated()||d.path("/")}),a.$watch(function(){return"/create-post"===d.url()},function(a){1!=a||h.isAuthenticated()||d.path("/")}),a.$watch(function(){return"/online-admin"===d.url()},function(a){1!=a||h.isAuthenticated()||d.path("/")}),a.$watch(function(){return"/entry-admin"===d.url()},function(a){1!=a||h.isAuthenticated()||d.path("/")}),a.$watch(function(){return"/entry-create"===d.url()},function(a){1!=a||h.isAuthenticated()||d.path("/")}),a.$watch(function(){return"/entry-create"===d.url()},function(a){1!=a||h.isAuthenticated()||d.path("/")}),a.$watch(function(){return"/control-panel"===d.url()},function(a){1!=a||h.isAuthenticated()||d.path("/")}),a.scrollShow=function(){return"/issue/1"==d.url()},a.isLoading=function(){return g.pendingRequests.length>0},b.isChrome="chrome"===i.browser,b.isIOS="ios"===i.os,b.isAndroid="android"===i.os,b.isIPhone="iphone"===i.device,b.isMobile=i.isMobile(),b.isDesktop=i.isDesktop(),a.filters={},a.setFilter=function(b){a.filters.tags=b,d.path("/online"),a.$emit("filter",a.filters)}}]),angular.module("lematClient").controller("IssueController",["$scope","$rootScope","$route","$routeParams","$location","$document","$http","$modal","AuthFactory","IssueFactory","ServerUrl",function(a,b,c,d,e,f,g,h,i,j,k){a.getIssues=function(){j.getIssues(),a.issues=j.issues},a.getIssue=function(){j.getIssue(d.id),a.issue=j.issue},a.getPieces=function(){j.getIssue(d.id),a.pieces=j.pieces},a.getPiece=function(){j.getIssuePiece(d.id,d.piece),a.piece=j.piece},a.upsertIssue=function(a){i.isAuthenticated()&&(j.upsertIssue(a),j.getIssues())},a.deleteIssue=function(a,b){i.isAuthenticated()&&j.deletePost(a,b)},a.upsertPiece=function(b){i.isAuthenticated()&&("/piece-create"===e.url()?j.upsertIssuePiece(b,b.issue_id).then(function(){e.path("/issue/"+d.id+"/edit"),a.getPieces()}):j.upsertIssuePiece(b,d.id).then(function(){a.getIssue(d.id),e.path("/issue/"+d.id+"/edit"),a.getPieces()}))},a.deletePiece=function(){i.isAuthenticated()&&(j.deleteIssuePiece(a.piece),e.path("issue/"+d.id),a.getIssue(d.id))},a.updatePieces=function(){angular.forEach(a.issue.pieces,function(b){a.upsertPiece(b)})},a.title="",a.scrollToTop=function(){f.scrollTopAnimated(0)},a.open=function(b){a.$modalInstance=h.open({scope:a,templateUrl:"views/modals/user-create.html",controller:"UserController",size:"lg"})},a.ok=function(){a.$modalInstance.close()},a.cancel=function(){a.$modalInstance.dismiss("cancel")},a.$on("selectedUser",function(b,c){l(c.id)||(a.piece.users[a.piece.users.length]={username:c.username,email:c.email,id:c.id})}),a.removeUser=function(b){a.piece.users.splice(l(b),1)};var l=function(b){for(var c=0;c<a.piece.users.length;c++)if(a.piece.users[c].id===b)return a.piece.users[c]};a.exclude=function(a){return a.role.includes("contributor")}}]),angular.module("lematClient").controller("PostController",["$scope","$location","$route","$routeParams","$modal","AuthFactory","UserFactory","PostFactory",function(a,b,c,d,e,f,g,h){a.url=b.absUrl(),a.post={},a.getPost=function(){h.getPost(d.post),a.post=h.post},a.getPosts=function(){h.getPosts(),a.posts=h.posts},a.resetPost=function(){angular.copy({},a.post)},a.getUsers=function(){g.getUsers(),a.users=g.users},a.upsertPost=function(a){f.isAuthenticated()&&h.upsertPost(a)},a.deletePost=function(a,b){f.isAuthenticated()&&h.deletePost(a,b)},a.open=function(b){a.$modalInstance=e.open({scope:a,templateUrl:"views/modals/user-create.html",controller:"UserController",size:"lg"})},a.ok=function(){a.$modalInstance.close()},a.cancel=function(){a.$modalInstance.dismiss("cancel")},a.$on("selectedUser",function(b,c){console.log(c),a.post.user_id=c.id}),a.$on("filter",function(c,d){a.filters=d,b.path("/online")}),a.getTags=function(){h.getTags(),a.tags=h.tags}}]),angular.module("lematClient").controller("EntryController",["$scope","$rootScope","$route","$routeParams","$location","$document","AuthFactory","EntryFactory","ServerUrl",function(a,b,c,d,e,f,g,h,i){a.entry={},a.getEntries=function(){h.getEntries(),a.entries=h.entries},a.getEntry=function(){h.getEntry(d.id),a.entry=h.entry},a.upsertEntry=function(a){g.isAuthenticated()&&(h.upsertEntry(a),e.path("/entry-admin"),h.getEntries())},a.deleteIssue=function(a){g.isAuthenticated()&&(h.deletePost(a),e.path("/entry-admin"),h.getEntries())},a.pageChangeHandler=function(a){console.log("going to page "+a)},a.currentPage=1,a.$on("selectedUser",function(b,c){console.log(c),a.entry.user_id=c.id})}]),angular.module("lematClient").controller("UserController",["$scope","$location","$route","$routeParams","AuthFactory","UserFactory","PostFactory","EntryFactory",function(a,b,c,d,e,f,g,h){a.getUsers=function(){f.getUsers(),a.users=f.users},a.getUser=function(){e.isAuthenticated()&&(f.getUser(d.user),a.user=f.user)},a.upsertUser=function(c){"admin"!==c.role&&(c.password="default"),e.isAuthenticated()&&(f.upsertUser(c),b.path("/user-admin"),a.getUsers())},a.deleteUser=function(a,b){e.isAuthenticated()&&f.deleteUser(a,b)},a.selectedUser=function(b){b&&a.$emit("selectedUser",b.originalObject)},a.exclude=function(a){return!a.role.match(/^(admin|editor)$/)}}]),angular.module("lematClient").controller("UploadController",["$scope","$location","$route","$http","AuthFactory","AS3Factory",function(a,b,c,d,e,f){a.file={},a.upload=function(a){f.getAS3keys().then(function(b){var c=b;f.upload(a,c)})}}]),angular.module("lematClient").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("lematClient").directive("lematFooter",[function(){return{restrict:"E",templateUrl:"views/partials/footer.html",scope:!1,controller:"IssueController"}}]),angular.module("lematClient").directive("lematHeader",[function(){return{restrict:"E",templateUrl:"views/partials/header.html",scope:!1}}]),angular.module("lematClient").directive("scrollPosition",["$document",function(a){return{scope:{scroll:"=scrollPosition"},link:function(b,c,d){var e=angular.element(a),f=function(){b.scroll=e.scrollTop()};e.on("scroll",b.$apply.bind(b,f)),f()}}}]),angular.module("lematClient").directive("lematRepeat",[function(){return function(a,b,c){angular.element(b),a.$last&&setTimeout(function(){a.$emit("lastElem")},1)}}]),angular.module("lematClient").directive("scroll",["$document","$timeout","$filter",function(a,b,c){return{scope:!1,controller:"IssueController",link:function(b,c,d){var e=[];b.$on("lastElem",function(a){angular.forEach(b.issue.pieces,function(a){var b="#"+a.title_url.toString(),c=document.querySelector(b),d=c.getBoundingClientRect().top;e.push({title:a.title,pos:d})}),e.sort(function(a,b){return parseFloat(a.pos-b.pos)})});var f=0;a.on("scroll",function(){try{b.scroll<e[0].pos&&(b.title="")}catch(a){}try{b.scroll>e[f].pos&&b.scroll>e[0].pos&&(b.title=e[f].title)}catch(a){}try{b.scroll>e[f+1].pos&&f++}catch(a){}try{b.scroll<e[f].pos&&b.scroll>e[0].pos&&f--}catch(a){}b.$emit("scroll",b.title.toUpperCase())})}}}]),angular.module("lematClient").directive("author",["$compile",function(a){return{}}]),angular.module("lematClient").directive("lematTable",[function(){return{restrict:"E",templateUrl:"views/partials/contents.html"}}]),angular.module("lematClient").directive("lematLoading",["$http",function(a){return{restrict:"A",link:function(b,c,d){b.isLoading=function(){return a.pendingRequests.length>0},b.$watch(b.isLoading,function(a){a?c.show():c.hide()})}}}]),angular.module("lematClient").factory("IssueFactory",["$http","$window","AuthFactory","ServerUrl",function(a,b,c,d){var e=[],f={},g=[],h={},i=function(){angular.copy({},f)},j=function(){return a.get(d+"/issues/").then(function(a){angular.copy(a.data,e)})},k=function(b){return a.get(d+"/issues/"+b).then(function(a){angular.copy(a.data,f),console.log(f)})},l=function(b){var c={issue:{title:b.title,image:b.image}};return b.id?a.patch(d+"/issues/"+b.id,c).then(function(a){k(a.data.id)},function(a){console.log(a)}):a.post(d+"/issues/",c).then(function(a){e.push(a.data)},function(a){console.log("response: ",a)})},m=function(b,c){return a["delete"](d+"/issues/"+c).then(function(a){e.splice(n(b),1)})},n=function(a){for(var b=0;b<f.length;b++)if(e[b].id===a)return b},o=function(b){return a.get(d+"/issues/"+b+"/pieces").then(function(a){angular.copy(a.data,g)})},p=function(b,c){return a.get(d+"/issues/"+b+"/pieces/"+c).then(function(a){angular.copy(a.data,h)})},q=function(b,c){var e=[];b.users&&b.users.map(function(a){console.log(a),e.push(a.id)}),console.log(e);var f={piece:{title:b.title,content:b.content,piece_type:b.piece_type,user_ids:e,issue_id:b.issue_id,order:b.order,title_url:b.title.replace(/\s/g,"-").substring(0,25).toLowerCase()}};return b.id?a.patch(d+"/issues/"+c+"/pieces/"+b.id,f).then(function(a){g.push(a.data)},function(a){console.log(a)}):a.post(d+"/issues/"+c+"/pieces/",f).then(function(a){},function(a){console.log("response: ",a)})},r=function(b){return console.log(b),a["delete"](d+"/issues/"+b.issue_id+"/pieces/"+b.title).then(function(a){})};return{getIssues:j,getIssue:k,getIssuePieces:o,getIssuePiece:p,issues:e,issue:f,pieces:g,piece:h,upsertIssue:l,deleteIssue:m,resetIssue:i,upsertIssuePiece:q,deleteIssuePiece:r}}]),angular.module("lematClient").factory("AuthFactory",["$http","$window","ServerUrl",function(a,b,c){var d={},e=function(b){return a.post(c+"/users/login",b).then(function(a){a.id;j(a)})},f=function(){return a.post(c+"/users/logout").then(function(a){b.localStorage.removeItem("lemat-user");console.log("logged out")})},g=function(b){var d={user:{email:b.email,password:b.password}};return a.post(c+"/posts/users/",d).then(function(a){j(a)},function(a){console.log(a)})},h=function(){var a=JSON.parse(b.localStorage.getItem("lemat-user"));return a?!0:!1},i=function(){},j=function(c){b.localStorage.setItem("lemat-user",JSON.stringify(c)),(c.data.role="admin")&&(a.defaults.headers.common.Authorization="Token token="+c.data.token,console.log(c.data.token))};if(h()===!0)var d=JSON.parse(b.localStorage.getItem("lemat-user")).id;else var d=null;return{login:e,logout:f,register:g,isAuthenticated:h,clearStorage:i,userId:d}}]),angular.module("lematClient").factory("PostFactory",["$http","AuthFactory","ServerUrl",function(a,b,c){var d=[],e={},f=[],g=function(){angular.copy({},e)},h=function(){return a.get(c+"/posts/").then(function(a){angular.copy(a.data,d)})},i=function(b){return a.get(c+"/posts/"+b).then(function(a){angular.copy(a.data,e),console.log(e)})},j=function(){return a.get(c+"/tags/").then(function(a){angular.copy(a.data,f)})},k=function(b){var d={post:{title:b.title,tag_names:b.tags,user_id:b.user_id,content:b.content,title_url:b.title.replace(/\s/g,"-").substring(0,25).toLowerCase()}};return console.log(d),b.id?a.patch(c+"/posts/"+b.id,d).then(function(a){console.log(a)}):a.post(c+"/posts/",d).then(function(a){console.log(a)})},l=function(a){for(var b=0;b<d.length;b++)if(d[b].id===a)return b},m=function(b,e){return a["delete"](c+"/posts/"+e).then(function(){d.splice(l(b),1)})};return{getPosts:h,getPost:i,getTags:j,posts:d,post:e,tags:f,upsertPost:k,deletePost:m,resetPost:g}}]),angular.module("lematClient").factory("EntryFactory",["$http","$window","AuthFactory","ServerUrl",function(a,b,c,d){var e={},f=[],g=function(){return a.get(d+"/entries/").then(function(a){angular.copy(a.data,f)})},h=function(b){return a.get(d+"/entries/"+b).then(function(a){angular.copy(a.data,e)})},i=function(b){console.log(b);var c={entry:{title:b.title,content:b.content,user_id:b.user_id}};return b.id?a.patch(d+"/entries/"+b.id,c).then(function(a){console.log("response: ",a),h(a.data.id)},function(a){console.log(a)}):a.post(d+"/entries/",c).then(function(a){console.log("response: ",a),h(a.data.id)},function(a){console.log("response: ",a)})},j=function(b){return a["delete"](d+"/entries/"+b).then(function(a){e.splice(k(b),1)})},k=function(a){for(var b=0;b<e.length;b++)if(e[b].id===a)return b};return{getEntries:g,getEntry:h,upsertEntry:i,deleteEntry:j,entry:e,entries:f}}]),angular.module("lematClient").factory("UserFactory",["$http","AuthFactory","ServerUrl",function(a,b,c){var d=[],e={},f=function(b){return a.get(c+"/users/"+b).then(function(a){var b={email:a.data.email,username:a.data.username,role:a.data.role,image:a.data.image,pieces:a.data.pieces,posts:a.data.posts,entries:a.data.entries};angular.copy(b,e)})},g=function(){return a.get(c+"/users/").then(function(a){angular.forEach(a.data,function(a){console.log(a)}),angular.copy(a.data,d),console.log(d)})},h=function(b){var e={user:{email:b.email,username:b.username,role:b.role,password:b.password}};return b.id?a.patch(c+"/users/"+b.id,e).then(function(a){d.push(a.data),g()}):a.post(c+"/users/",e).then(function(a){d.push(a.data),g()})},i=function(a){for(var b=0;b<d.length;b++)if(d[b].id===a)return b},j=function(b,e){return a["delete"](c+"/users/"+e).then(function(){d.splice(i(b),1)})};return{getUser:f,getUsers:g,upsertUser:h,deleteUser:j,user:e,users:d}}]),angular.module("lematClient").factory("AS3Factory",["$http","ServerUrl",function(a,b){var c=[],d={},e={},f=function(){angular.copy({},d)},g=function(){angular.copy([],c)},h=function(){return a.get(b+"/amazon/sign_key").then(function(a){return e=a.data})},i=function(b,c){console.log("keys: ",c);var d=[{key:c.key,AWSAccessKeyId:c.access_key,policy:c.policy,signature:c.signature,file:b}];console.log("form data: ",d),a.post("https://lematjournal.s3.amazonaws.com/",d,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(a){console.log(a)})},j=function(c){return a["delete"](b+"/images/"+c)};return{getAS3keys:h,upload:i,resetImage:f,resetImages:g,deleteImage:j,images:c,keys:e}}]),angular.module("lematClient").filter("to_trusted",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}]),angular.module("lematClient").filter("escapeHtml",function(){var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return function(b){return String(b).replace(/[&<>"'\/]/g,function(b){return a[b]})}}),angular.module("lematClient").filter("spaceless",function(){return function(a){return a?a.replace(/[()&<>"'\/]/g,"").replace(/\s+/g,"-"):void 0}}),angular.module("lematClient").filter("cut",function(){return function(a,b,c,d){if(!a)return"";if(c=parseInt(c,10),!c)return a;if(a.length<=c)return a;if(a=a.substr(0,c),b){var e=a.lastIndexOf(" ");-1!=e&&(a=a.substr(0,e))}return a+(d||"…")}}),angular.module("lematClient").run(["$templateCache",function(a){a.put("views/about.html",'<div class="container"> <h1>LE MAT POST-JOKE NON-MANIFESTO</h1> <hr> <p class="lead">Le Mat is a non-philosophical enterprise that programmatically exploits its own ignorance in the name of annihilating—aesthetically and discursively—the “subject of science” or a “subject supposed to know” which has haunted philosophical and artistic discourse. Le Mat decisively locates itself as the obverse of this subject; by making it speak it deploys an unconscious strategy of subverting or exiting their (philosophy and art’s) linear dialectics of negation/deconstruction as a wager that, by knowing nothing at all, it situates itself in the position of truth. Thus, it engages a dehiscent discourse emerging in the real or recognized absence of this subject of science—a situation which authorizes—proscribes the generative program/analytic practice of dialectically anticipating, reproducing, and directing the negativizing effects of this absence as a strategy of anti-pedagogical and anti-humanist dissemination of a “problem set” or a “program of research” informed our elected discursive procedures in the domains of psychoanalysis, aesthetics, politics, etc.</p> <p class="lead">Thus, Le Mat is a [de]regulated cybernetics of the discursive effects of ignorance, a playful Jacobinism-Reagonomics (Reacobinism) in the political economy of philosophy which simultaneously decenters as it aggregates the remnants of the philosophical state’s [logo]centralized humanist discursive apparatus—undoing and exposing philosophy’s various decisions and deploying it in the name of our aesthetic and political practices—heretofore parasitized for philosophy’s own purposes (namely, to validate and exercise the Principle of Sufficient Philosophy) and used to scaffold its degenerating program of research.</p> <p class="lead">In a word, Le Mat makes extensive use of Evil (reflexivity, infinite exchangeability, spiraling negativity, undecidability, undeconstructability, etc.) as a part of its philosophical conspiracy to establish localized hallucinogenic epistemologies, agitate, or produce “revolutionary flows” by engaging a set of philosophical reciprocally redefined pragmatics (Lacauzian, Delecanian, Dergelian, and Herridian) as the groundwork for an as-yet-unknown and nonspecific democratic/democratizing project.</p> </div>'),a.put("views/editors.html",'<div class="container" ng-init="getUsers()"> <div class="row" ng-repeat="user in users | omit: exclude"> <div> <div class="row"> <h3 class="title text-center">{{ user.username }}</h3> <hr> <img class="img-responsive center-block" src="{{ user.image.image_url }}"> <br> </div> <div class="row" ng-if="user.pieces.length > 0"> <h4 class="title text-center">ISSUE PIECES</h4> <div ng-repeat="piece in user.pieces"> <p class="text-center"><a href="#/issue/{{ piece.issue_id }}/{{ piece.title_url }}">{{ piece.title | uppercase }}</a> </p> </div> </div> <div class="row" ng-if="user.posts.length > 0"> <h4 class="title text-center">ARTWORK/ONLINE CONTENT</h4> <div ng-repeat="post in user.posts"> <p class="text-center"><a href="#/online/{{ post.title_url }}">{{ post.title | uppercase }}</a> </p> </div> </div> <div class="row" ng-if="user.entries.length > 0"> <h4 class="title text-center">NEWS ENTRIES</h4> <div ng-repeat="entry in user.entries"> <p class="text-center"><a href="#/entry/{{ entry.id }}">{{ entry.title | uppercase }}</a> </p> </div> </div> </div> </div> </div>'),a.put("views/entry-view.html",'<div class="container" ng-init="getEntry()"> <div class="row"> <h1>{{ ::entry.title }}</h1> <hr> <p class="post-meta">Posted by <a ng-href="#/user/{{ ::entry.user.username }}"> {{ ::entry.user.email }}</a> on {{ ::entry.created_at | date:\'medium\' }}</p> <p ng-bind-html="entry.content | to_trusted"></p> <p>- {{ ::entry.user.email }}</p> </div> <hr> <a class="btn btn-default" ng-href="/#/">Back</a> </div>'),a.put("views/forms/control-panel.html",'<div class="container"> <ul> <li><a href="#/online-admin"><h3>Posts</h3></a></li> <li><a href="#/user-admin"><h3>Users</h3></a></li> <li><a href="#/entry-admin"><h3>News</h3></a></li> <li><a href="#/issue-admin"><h3>Issues and Pieces</h3></a></li> </ul> </div>'),a.put("views/forms/entry-admin.html",'<div class="container" ng-init="getEntries()"> <table class="table"> <tr> <th>title</th> <th>author</th> <th>options</th> </tr> <tr ng-repeat="entry in entries"> <th>{{ ::entry.title }}</th> <th>{{ ::entry.author }}</th> <th> <a class="btn btn-default" href="#/entry/{{ entry.id }}/edit">Edit</a> </th> </tr> </table> <a class="btn btn-default" href="#/entry-create">Add Entry</a> </div>'),a.put("views/forms/entry-create.html",'<div class="content"> <div class="container"> <div class="form-group"> <label for="name">Title</label> <input type="text" ng-model="entry.title" id="title" class="form-control" placeholder="title" required> </div> <div class="form-group" ng-controller="UserController" ng-init="getUsers()"> <label for="user">Author(s):</label><font ng-repeat="user in piece.users"><span ng-show="!$first && !$last">, </span><span ng-show="$last"> and </span>{{ ::user.username }}</font> <angucomplete-alt id="authors" placeholder="Search contributing authors" pause="100" selected-object="selectedUser" local-data="users" search-fields="username" title-field="username" minlength="1" input-class="form-control form-control-small"> </div> <div class="form-group"> <wysiwyg textarea-id="content" textarea-class="form-control" textarea-height="400px" textarea-name="textareaQuestion" textarea-required ng-model="entry.content" enable-bootstrap-title="true"></wysiwyg> </div> <a class="btn btn-default" ng-click="upsertEntry(entry)">Submit</a> </div> </div>'),a.put("views/forms/entry-edit.html",'<div class="content" ng-init="getEntry()"> <div class="container"> <div class="form-group"> <label for="name">Title</label> <input type="text" ng-model="entry.title" id="title" class="form-control" placeholder="title" required> </div> <div class="form-group" ng-controller="UserController" ng-init="getUsers()"> <label for="user">Author(s):</label><font ng-repeat="user in piece.users"><span ng-show="!$first && !$last">, </span><span ng-show="$last"> and </span>{{ ::user.username }}</font> <angucomplete-alt id="authors" placeholder="Search contributing authors" pause="100" selected-object="selectedUser" local-data="users" search-fields="username" title-field="username" minlength="1" input-class="form-control form-control-small"> </div> <div class="form-group"> <wysiwyg textarea-id="content" textarea-class="form-control" textarea-height="400px" textarea-name="textareaQuestion" textarea-required ng-model="entry.content" enable-bootstrap-title="true"></wysiwyg> </div> <a class="btn btn-default" ng-click="upsertEntry(entry)">Submit</a> </div> </div>'),a.put("views/forms/issue-admin.html",'<div class="container" ng-init="getIssues()"> <div class="content" ng-repeat="issue in issues"> <h2><a href="#/issue/{{ issue.id }}/edit">{{ issue.title }}</a></h2> <h3>created: {{ issue.created_at }}</h3> </div> </div> <hr> <div class="container"> <h1>Add Issue:</h1> <div class="form-group"> <label for="name">Issue Title</label> <input type="text" ng-model="issue.title" id="title" class="form-control" placeholder="title" required> </div> <div class="form-group"> <label for="name">Issue Image Url</label> <input type="text" ng-model="issue.image.image_url" id="title" class="form-control" placeholder="title" required> </div> <div class="form-group"> <label for="name">Issue Image Detail Url</label> <input type="text" ng-model="issue.image.image_detail_url" id="title" class="form-control" placeholder="title" required> </div> <!--\n	<div class="form-group">\n		<label for="name">Download Link</label>\n		<input type="text" ng-model="issue.link" id="title" class="form-control" placeholder="title" required>\n	</div>\n--> <a class="btn btn-default" ng-click="upsertIssue(issue)">Submit</a> </div>'),a.put("views/forms/issue-edit.html",'<div class="container" ng-init="getIssue()"> <div class="row"> <h2>issue name: <input type="text" style="width: 200px" ng-model="issue.title"></h2> <h3>created: {{ issue.created_at }}</h3> <table class="table"> <tr> <th>order</th> <th>title</th> <th>author</th> <th>options</th> </tr> <tr ng-repeat="piece in issue.pieces | orderBy: \'order\'"> <th>{{ piece.order }}</th> <th>{{ piece.title | cut:true: 25 }}</th> <th>by <font ng-repeat="user in piece.users"><span ng-show="!$first && !$last">, </span><span ng-show="$last && !$first"> and </span>{{ user.username }}</font></th> <th><a class="btn btn-default" href="#/issue/{{ issue.id }}/{{ piece.title_url }}/edit">Edit</a> <a class="btn btn-default" href="#/issue/{{ issue.id }}/{{ piece.title_url }}">Preview</a> <a class="btn btn-default" ng-click="piece.order = piece.order + 1"><span class="glyphicon glyphicon-chevron-up"></span></a> <a class="btn btn-default" ng-click="piece.order = piece.order - 1"><span class="glyphicon glyphicon-chevron-down"></span></a></th> </tr> </table> <a class="btn btn-default" href="#/piece-create">Add Piece</a> <a class="btn btn-default" ng-click="updatePieces()">Update Order</a> <a class="btn btn-default" ng-click="upsertIssue(issue)">Submit</a> </div> <hr> <div class="row"> <!--\n		<h2>cover images</h2>\n		<div class="form-group">\n			<label>Issue Image: </label>\n			<input type="text" ng-model="issue.image">\n		</div>\n--> <!--\n		<div class="form-group">\n			<label>Issue Download Link</label>\n			<input type="text" class="form-control" ng-model="issue.">\n		</div>\n--> </div> </div>'),a.put("views/forms/online-admin.html",'<div class="container" ng-init="getPosts()"> <table class="table"> <tr> <th>title</th> <th>author</th> <th>options</th> </tr> <tr ng-repeat="post in posts"> <th>{{ ::post.title }}</th> <th>{{ ::post.author }}</th> <th><a class="btn btn-default" href="#/{{ ::post.title_url }}/edit">Edit</a></th> </tr> </table> <a class="btn btn-default" href="#/post-create">Add Post</a> </div>'),a.put("views/forms/piece-create.html",'<div class="container"> <div class="form-group"> <label for="name">Title</label> <input type="text" ng-model="piece.title" id="title" class="form-control" placeholder="title" required> </div> <div class="form-group"> <label for="type">Type</label> <input type="text" ng-model="piece.piece_type" id="type" class="form-control" placeholder="type" required> </div> <div class="form-group" ng-controller="UserController" ng-init="getUsers()"> <label for="user">Author(s):</label><font ng-repeat="user in piece.users"><span ng-show="!$first && !$last">, </span><span ng-show="$last"> and </span>{{ ::user.username }}</font> <angucomplete-alt id="authors" placeholder="Search contributing authors" pause="100" selected-object="selectedUser" local-data="users" search-fields="username" title-field="username" minlength="1" input-class="form-control form-control-small"> </div> <a class="btn btn-default" ng-click="open()">Add User</a> <div class="form-group" ng-init="getIssues()"> <label for="issue">Issue</label> <select ng-model="piece.issue_id" class="form-control"> <option ng-repeat="issue in issues" value="{{ ::issue.id }}">{{ ::issue.title }}</option> </select> </div> <div class="form-group"> <wysiwyg textarea-id="question" textarea-class="form-control" textarea-height="400px" textarea-name="textareaQuestion" textarea-required ng-model="piece.content" enable-bootstrap-title="true"></wysiwyg> </div> <a class="btn btn-default" ng-click="upsertPiece(piece)">Submit</a> </div>'),a.put("views/forms/piece-edit.html",'<div class="container" ng-init="getPiece()"> <div class="form-group"> <label for="name">Title</label> <input type="text" ng-model="piece.title" id="title" class="form-control" placeholder="title" required> </div> <div class="form-group"> <label for="type">Type</label> <input type="text" ng-model="piece.piece_type" id="type" class="form-control" placeholder="type" required> </div> <div class="form-group" ng-controller="UserController" ng-init="getUsers()"> <label for="authors">Author(s):</label> <font ng-repeat="user in piece.users"><span ng-show="!$first && !$last">, </span><span ng-show="$last && !$first"> and </span>{{ user.username }}<a ng-click="removeUser(user.id)"><span class="glyphicon glyphicon-remove"></span></a></font> <angucomplete-alt id="authors" placeholder="Search contributing authors" pause="100" selected-object="selectedUser" local-data="users" search-fields="username" title-field="username" minlength="1" input-class="form-control form-control-small" initial-value="piece.author" aria-describedby="basic-addon1"> </div> <a class="btn btn-default" ng-click="open()">Create New User</a> <div class="form-group" ng-init="getIssues()"> <label for="issue">Issue</label> <select ng-model="piece.issue_id" class="form-control"> <option ng-repeat="issue in issues" value="{{issue.id }}">{{ issue.title }}</option> </select> </div> <div class="form-group"> <wysiwyg textarea-id="question" textarea-class="form-control" textarea-height="400px" textarea-name="textareaQuestion" textarea-required ng-model="piece.content" enable-bootstrap-title="true"></wysiwyg> </div> <a class="btn btn-default" ng-click="upsertPiece(piece)">Submit</a> <a class="btn btn-default" ng-click="deletePiece()"><i class="glyphicon glyphicon-trash"></i></a> </div>'),a.put("views/forms/piece-preview.html",'<div class="container" ng-init="getPiece()"> <div class="content"> <h4 class="title text-center">{{ piece.title }}</h4> <p class="text-center"><font ng-repeat="user in piece.users"><span ng-show="!$first && !$last">, </span><span ng-show="$last"> and </span>{{ user.username }}</font></p> <br> <p ng-bind-html="piece.content | to_trusted"></p> </div> </div>'),
a.put("views/forms/post-create.html",'<div class="container"> <div class="form-group"> <label for="name">Title</label> <input type="text" ng-model="post.title" id="title" class="form-control" placeholder="title" required> </div> <div class="form-group" ng-init="getTags()"> <label for="tags">Tags</label> <tags-input display-property="name" ng-model="post.tags"> <auto-complete source="tags"></auto-complete> </tags-input> </div> <div class="form-group" ng-controller="UserController" ng-init="getUsers()"> <label for="user">Author(s):</label><font ng-repeat="user in piece.users"><span ng-show="!$first && !$last">, </span><span ng-show="$last"> and </span>{{ user.username }}</font> <angucomplete-alt id="authors" placeholder="Search contributing authors" pause="100" selected-object="selectedUser" local-data="users" search-fields="username" title-field="username" minlength="1" input-class="form-control form-control-small"> </div> <div class="form-group"> <a class="btn btn-default" ng-click="open()">Add User</a> </div> <div class="form-group"> <wysiwyg textarea-id="question" textarea-class="form-control" textarea-height="400px" textarea-name="textareaQuestion" textarea-required ng-model="post.content" enable-bootstrap-title="true"></wysiwyg> </div> <div class="form-group"> <label>Embedded html</label> <input type="text" class="form-control" ng-model="post.content"> </div> <a class="btn btn-default" ng-click="upsertPost(post)">Submit</a> </div>'),a.put("views/forms/post-edit.html",'<div class="container" ng-init="getPost()"> <div class="form-group"> <label for="name">Title</label> <input type="text" ng-model="post.title" id="title" class="form-control" placeholder="title" required> </div> <div class="form-group" ng-init="getTags()"> <label for="tags">Tags</label> <tags-input display-property="name" ng-model="post.tags"> <auto-complete source="tags"></auto-complete> </tags-input> </div> <div class="form-group" ng-controller="UserController" ng-init="getUsers()"> <label for="user">Author(s):</label><font ng-repeat="user in piece.users"><span ng-show="!$first && !$last">, </span><span ng-show="$last"> and </span>{{ user.username }}</font> <angucomplete-alt id="authors" placeholder="Search contributing authors" pause="100" selected-object="selectedUser" local-data="users" search-fields="username" title-field="username" minlength="1" input-class="form-control form-control-small" initial-value="post.author"> </div> <a class="btn btn-default" ng-click="open()">Add User</a> <div class="form-group"> <wysiwyg textarea-id="post" textarea-class="form-control" textarea-height="400px" textarea-name="textareaQuestion" textarea-required ng-model="post.content" enable-bootstrap-title="true"></wysiwyg> </div> <div class="form-group"> <label>Embedded html</label> <input type="text" class="form-control" ng-model="post.content"> </div> <a class="btn btn-default" ng-click="upsertPost(post)">Submit</a> <a class="btn btn-default" ng-click="deletePost()"><i class="glyphicon glyphicon-trash"></i> Delete</a> </div>'),a.put("views/forms/user-admin.html",'<div class="container" ng-init="getUsers()"> <table class="table"> <tr> <th>user</th> <th>name</th> <th>role</th> <th>options</th> </tr> <tr ng-repeat="user in users"> <th>{{ user.email }}</th> <th>{{ user.username }}</th> <th>{{ user.role }}</th> <th><a class="btn btn-default" href="#/user/{{ user.username }}/edit">Edit</a></th> </tr> </table> <a class="btn btn-default" href="#/user-create">Add User</a> </div>'),a.put("views/forms/user-create.html",'<div class="container"> <div class="row"> <div class="form-group"> <label for="name">Email</label> <input type="text" ng-model="user.email" id="email" class="form-control" placeholder="email"> </div> <div class="form-group"> <label for="author">Username</label> <input type="name" ng-model="user.username" id="username" class="form-control" placeholder="username" required> </div> <div class="form-group"> <label for="role">Role</label> <select ng-model="user.role"> <option value="admin">admin</option> <option value="editor">editor</option> <option value="author">author</option> <option value="contributor">contributor</option> </select> </div> </div> <div class="row" ng-if="user.role === \'admin\'"> <div class="form-group"> <label for="password">Password</label> <input type="password" ng-model="user.password" id="password" class="form-control" placeholder="password" required> </div> <div class="form-group"> <label for="password">Confirm Password</label> <input type="password" ng-model="user.passwordConfirm" id="passord" class="form-control" placeholder="password" match="user.password" required> </div> </div> <hr> <a class="btn btn-default" ng-click="upsertUser(user)">Submit</a> </div>'),a.put("views/forms/user-edit.html",'<div class="container" ng-init="getUser()"> <div class="row"> <h2>email: {{ user.email }}</h2> <h2>username: {{ user.username }}</h2> <h2>role: {{ user.role }}</h2> </div> <hr> <div class="row"> <h2>user settings:</h2> <div class="form-group"> <label for="name">Email</label> <input type="text" ng-model="user.email" id="email" class="form-control" placeholder="email"> </div> <div class="form-group"> <label for="name">Username</label> <input type="text" ng-model="user.username" id="username" class="form-control" placeholder="username"> </div> <div class="form-group"> <label for="role">Role</label> <select class="form-control" ng-model="user.role"> <option value="admin">admin</option> <option value="editor">editor</option> <option value="author">author</option> <option value="contributor">contributor</option> </select> </div> <div class="form-group"> <label for="password">Password</label> <input type="password" ng-model="user.password" id="author" class="form-control" placeholder="password" required> </div> <div class="form-group"> <label for="author">Confirm Password</label> <input type="password" ng-model="user.passwordConfirm" id="passord" class="form-control" placeholder="password confirm" match="user.password" required> </div> <a class="btn btn-default" ng-click="upsertUser(user)">Submit</a> <a class="btn btn-default" ng-click="deleteUser(user.id, user.username)"><i class="glyphicon glyphicon-trash"></i>Delete</a> </div> </div>'),a.put("views/image-view.html",'<div class="container" ng-init="getIssue()"> <h1>COVER DETAIL:</h1> <img src="{{ issue.image.image_detail_url }}"> </div>'),a.put("views/issue-list.html",'<div class="container" ng-init="getIssues()"> <div class="content" ng-repeat="issue in issues"> <div class="content-inner"> <h2><a href="#/issue/{{ issue.id }}">{{ ::issue.title | uppercase }}:</a></h2> <h2><a href="#/issue/{{ issue.id }}"><img ng-src="{{ issue.image.image_url }}"></a> </h2> </div> <div class="content-inner"> <h3>CONTENTS:</h3> <hr> <div class="content-inner" ng-repeat="piece in issue.pieces | orderBy: \'order\'"> <li><a href="#/issue/{{ issue.id }}/{{ piece.title_url }}"><h4>{{ ::piece.title }} - <font ng-repeat="user in piece.users"><span ng-show="!$first && !$last">, </span><span ng-show="$last && !$first"> and </span>{{ user.username }}</font></h4></a>  </li> </div> </div> <br> <div class="content-inner" ng-if="issue.link"> <h3>DOWNLOAD ISSUE: <a href="{{ issue.link }}"></a></h3> <hr> </div> </div> <br> </div>'),a.put("views/issue.html",'<div class="container" id="contents" ng-init="getIssue()" scroll> <div class="row"> <div class="col-md-4"> <h2>WRITTEN</h2> <ul ng-repeat="piece in issue.pieces | orderBy: \'order\' | filter: { piece_type: \'!Picture\' }"> <li><a href="#{{ piece.title_url }}" du-smooth-scroll>{{ piece.title }}</a> </li> </ul> </div> <div class="col-md-4"> <h2>PICTURED</h2> <ul ng-repeat="piece in issue.pieces | filter: { piece_type: \'Picture\'}"> <li><a href="#{{ piece.title_url }}" du-smooth-scroll>{{ piece.title }}</a></li> </ul> </div> <div class="col-md-4"> <h2>CONTRIBUTORS</h2> <ul ng-repeat="piece in issue.pieces | unique:\'users\' | orderBy: \'order\'" author> <li><a><font ng-repeat="user in piece.users | reverse"><span ng-show="!$first && !$last">, </span><span ng-show="$last && !$first"> and </span>{{ user.username }}</font></a></li> </ul> </div> </div> <div class="row"> <div ng-repeat="piece in issue.pieces | orderBy: \'order\' | filter: author.name" lemat-repeat> <div class="content" id="{{ piece.title_url }}"> <h4 class="title text-center">{{ piece.title }}</h4> <p class="text-center"><font ng-repeat="user in piece.users"><span ng-show="!$first && !$last">, </span><span ng-show="$last && !$first"> and </span>{{ user.username }}</font></p> <br> <p ng-bind-html="piece.content | to_trusted"></p> </div> </div> </div> </div>'),a.put("views/login.html",'<div class="container"> <form name="loginForm" novalidate> <div class="form-group"> <label for="email">Email address</label> <input type="email" class="form-control" id="email" placeholder="Enter email" ng-model="credentials.email" required> </div> <div class="form-group"> <label for="password">Password</label> <input type="password" class="form-control" id="password" placeholder="Password" ng-model="credentials.password" required> </div> <button class="btn" value="Login" ng-click="postCredentials(credentials)">Submit</button> </form> <br> </div>'),a.put("views/main.html",'<div class="container" ng-init="getEntries()"> <div dir-paginate="entry in entries | itemsPerPage: 5 | orderBy: \'-created_at\'" current-page="currentPage"> <a ng-href="#/entry/{{ ::entry.id }}"> <h1 class="entry-title">{{ ::entry.title | uppercase }}</h1> </a> <hr> <p class="post-meta">Posted by <a ng-href="#/user/{{ ::entry.user.username }}"> {{ ::entry.user.email }}</a> on {{ ::entry.created_at | date:\'medium\' }}</p> <br> <p class="post-subtitle" ng-bind-html="entry.content | to_trusted"></p> </div> <br> <br> <ul class="pager"> <dir-pagination-controls template-url="views/partials/pagination.html"></dir-pagination-controls> </ul> </div>'),a.put("views/modals/user-create.html",'<div class="container" style="width: 850px; height: 350px"> <div class="row"> <div class="form-group"> <label for="name">Email</label> <input type="text" ng-model="user.email" id="email" class="form-control" placeholder="email"> </div> <div class="form-group"> <label for="author">Username</label> <input type="name" ng-model="user.username" id="username" class="form-control" placeholder="username" required> </div> <div class="form-group"> <label for="role">Role</label> <select ng-model="user.role"> <option value="admin">admin</option> <option value="contributor">contributor</option> </select> </div> </div> <div class="row" ng-if="user.role === \'admin\'"> <div class="form-group"> <label for="password">Password</label> <input type="password" ng-model="user.password" id="password" class="form-control" placeholder="password" required> </div> <div class="form-group"> <label for="password">Confirm Password</label> <input type="password" ng-model="user.passwordConfirm" id="passord" class="form-control" placeholder="password" match="user.password" required> </div> </div> <hr> <a class="btn btn-default" ng-click="cancel()">Cancel</a> <a class="btn btn-default" ng-click="upsertUser(user); ok()">Submit</a> <br> </div>'),a.put("views/online.html",'<div class="container"> <header class="contrast-bar"> <h3 class="section-title"><a ng-click="setFilter()">all</a> // <a ng-click="setFilter(\'art\')">art</a> // <a ng-click="setFilter(\'essay\')"> essays</a> // <a ng-click="setFilter(\'poetry\')">poetry</a> // search: <input type="text" style="width: 200px" ng-model="filters.tags"></h3> </header> <hr> <div class="row" ng-init="getPosts()"> <div class="col-md-4" ng-repeat="post in posts | filter:filters"> <div class="panel panel-default"> <div class="panel-heading"><a style="text-transform: uppercase" href="/#/online/{{ post.title_url }}">{{ ::post.title }}</a> <p> - {{ ::post.author }}</p> </div> <div class="panel-body"><p>tags: <font ng-repeat="tag in post.tags"><span ng-show="!$first">, </span><a ng-click="setFilter(tag)">#{{ ::tag | uppercase }}</a></font></p></div> </div> </div> </div> <span ng-show="!$first && !$last">, </span><span ng-show="$last && !$first"> and </span>{{ user.username }}</div>'),a.put("views/partials/footer.html",'<div class="footer" id="footer" ng-init="getIssues()"> <div class="container"> <div class="row"> <div class="col-lg-2 col-md-2 col-sm-4 col-xs-6"> <h3>Editors</h3> <ul> <li><a href="#/user/Carter Halbrooks">Carter Halbrooks</a> </li> <li><a href="#/user/Danielle Norris">Danielle Norris</a> </li> <li><a href="#/user/Ian Delairre">Ian Delairre</a> </li> <li><a href="#/user/Phoebe Meskill">Phoebe Meskill</a> </li> <li><a href="#/user/Ian McCament">Ian McCament</a> </li> <li><a href="#/user/Shelby Jackson">Shelby Jackson</a> </li> <li><a href="#/user/Turner Roth">Turner Roth</a> </li> <li><a href="#/user/Jacky Connolly">Jacky Connolly</a> </li> </ul> </div> <div class="col-lg-2 col-md-2 col-sm-4 col-xs-6"> <h3>Contributors</h3> <ul> <li ng-repeat="user in issues[0].users | unique: \'username\'"><a href="#/user/{{ user.username }}">{{ user.username }}</a> </li> </ul> </div> <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12 pull-right social-buttons"> <h3>Social Media</h3> <!--\n            <ul>\n               <li>\n                  <div class="input-append newsletter-box text-center">\n                     <input type="text" class="full text-center" placeholder="Email ">\n                     <button class="btn  bg-gray" type="button"> Lorem ipsum <i class="fa fa-long-arrow-right"> </i> </button>\n                  </div>\n               </li>\n            </ul>\n--> <ul class="social"> <li> <a href="https://www.facebook.com/lematjournal"><i class="fa fa-facebook"></i></a> </li> <li> <a href=""><i class="fa fa-twitter"></i></a> </li> <li> <a href="https://github.com/lematjournal"><i class="fa fa-github"></i></a> </li> </ul> </div> </div> <!--/.row--> </div> <!--/.container--> </div> <!--/.footer--> <!--\n<div class="footer-bottom">\n	<div class="container">\n		<p class="pull-left"></p>\n	</div>\n</div>-->'),a.put("views/partials/header.html",'<nav class="navbar navbar-default navbar-fixed-top" style="margin-top: -25px" scroll-position="scroll"> <div class="container-fluid"> <div class="navbar-header"> <a class="menu-bar dropdown-toggle" id="dropdownMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color: black; margin-top: 15px"><span class="glyphicon glyphicon-menu-hamburger" style="font-size: 16px"></span> <font style="font-size: 19px; margin-left: 5px">LE MAT<b ng-if="title"> //</b> {{ title }}</font></a> <div class="dropdown-menu"> <ul class="nav col-sm-6 col-xs-6" role="menu"> <li> <h4 style="padding-left: 5px">HOME</h4> </li> <li class="divider"></li> <li><a href="#/">MAIN PAGE</a> </li> <li><a href="#/issues/">ISSUES</a> </li> <li><a href="#/issue/1">CURRENT ISSUE</a> </li> <li><a href="#/about">ABOUT</a> </li> <li ng-if="!isAuthenticated()"><a href="#/login">LOGIN</a> </li> <li ng-if="isAuthenticated()"><a href="#/" ng-click="logout()">LOGOUT</a> </li> </ul> <ul class="nav col-sm-6 col-xs-6" role="menu"> <li> <h4 style="padding-left: 5px">ONLINE</h4> </li> <li class="divider"></li> <li><a ng-click="setFilter()">CONTENTS</a> </li> <li><a ng-click="setFilter(\'art\')">ART</a> </li> <li><a ng-click="setFilter(\'essay\')">ESSAYS</a> </li> <li><a ng-click="setFilter(\'poetry\')">POETRY</a> </li> </ul> <ul class="nav col-sm-6 col-xs-6" role="menu" ng-if="isDesktop"> <li> <h4 style="padding-left: 5px">SOCIAL</h4> </li> <li class="divider"></li> <li> <a href="https://www.facebook.com/lematjournal"><i class="fa fa-facebook"></i></a> </li> <li> <a href="#"><i class="fa fa-twitter"></i></a> </li> </ul> <ul class="nav col-sm-6 col-xs-6 contact" role="menu"> <li> <h4 style="padding-left: 5px">CONTACT</h4> </li> <li class="divider"></li> <li><a href="#/submissions">SUBMISSIONS</a> </li> <li><a href="#/editors">EDITORS</a> </li> </ul> <ul class="nav col-sm-6 col-xs-6" role="menu" ng-if="isAuthenticated()"> <li> <h4 style="padding-left: 5px">ADMIN</h4> </li> <li class="divider"></li> <li><a href="#/control-panel">ADMIN CONTROL PANEL</a> </li> </ul> <ul class="nav col-sm-6 col-xs-6 pull-right" role="menu"> <li class="divider"></li> <li> <a class="btn btn-outlined" style="margin-left: 5px">CLOSE</a> </li> </ul> </div> </div> </div> </nav>'),a.put("views/partials/pagination.html",'<ul class="pagination" ng-if="1 < pages.length"> <li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"> <a class="pager" href="" ng-click="setCurrent(1)">&laquo;</a> </li> <li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }" class="ng-scope"> <a class="pager" href="" ng-click="setCurrent(pagination.current - 1)" class="ng-binding">‹</a> </li> <li ng-repeat="pageNumber in pages track by $index" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' }"> <a class="pager" href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a> </li> <li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }" class="ng-scope"> <a class="pager" href="" ng-click="setCurrent(pagination.current + 1)" class="ng-binding">›</a> </li> <li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == pagination.last }"> <a class="pager" href="" ng-click="setCurrent(pagination.last)">&raquo;</a> </li> </ul>'),a.put("views/post-view.html",'<div class="container"> <div class="content" ng-init="getPost()"> <h4 class="title text-center">{{ post.title }}</h4> <p class="text-center">{{ post.author }} - {{ post.created_at | date: \'medium\' }}</p> <hr> <p>{{ post.description }}</p> <p ng-bind-html="post.content | to_trusted"></p> </div> </div>'),a.put("views/submissions.html",'<div class="container"> <h1>LE MAT SUBMISSION GUIDELINES</h1> <hr> <p class="lead"><i>Note: open to revision</i></p> <li class="lead">Send submissions to lematjournal@gmail.com</li> <li class="lead">For visual art submit 2 to 3 images. If you are submitting photo-documentation or digital photography we will accept any size or file type of at least 300dpi; final proportions are to be determined by the editors and printing/cost constraints. We accept all species of photography. All submissions should be captioned in the following format: <br> <br> <i class="lead">Artist, title, date, medium, and dimensions are separated by commas, and these elements are followed by a period. Collection, city, and credit lines follow, separated by commas. After this, in parentheses, come all copyright and photograph credit lines. There is no terminal period, unless the basic caption information is followed by a descriptive sentence, which occurs rarely. Complete information on medium, dimensions, and collection should be provided if possible.</i> </li> <br> <li class="lead">3 to 5 poems of any length. Include a short author biography. Feel free to destroy your personality.</li> <li class="lead">Short stories and experimental fiction of 1000 to 3000 words.</li> <li class="lead">Critical works (art criticism, philosophy, literary theory/analysis, art history, knickknacks) of 1000 to 3000 words. Please use MLA format for footnoting, etc.</li> </div>'),a.put("views/user-view.html",'<div class="container" ng-init="getUser()"> <div class="row"> <h3 class="title text-center">{{ user.username }}</h3> <hr> <img class="img-responsive center-block" src="{{ user.image.image_url }}"> <br> </div> <div class="row" ng-if="user.pieces.length > 0"> <h4 class="title text-center">ISSUE PIECES</h4> <div ng-repeat="piece in user.pieces"> <p class="text-center"><a href="#/issue/{{ piece.issue_id }}/{{ piece.title_url }}">{{ piece.title | uppercase }}</a> </p> </div> </div> <div class="row" ng-if="user.posts.length > 0"> <h4 class="title text-center">ARTWORK/ONLINE CONTENT</h4> <div ng-repeat="post in user.posts"> <p class="text-center"><a href="#/online/{{ post.title_url }}">{{ post.title | uppercase }}</a> </p> </div> </div> <div class="row" ng-if="user.entries.length > 0"> <h4 class="title text-center">NEWS ENTRIES</h4> <div ng-repeat="entry in user.entries"> <p class="text-center"><a href="#/entry/{{ entry.id }}">{{ entry.title | uppercase }}</a> </p> </div> </div> </div>')}]);