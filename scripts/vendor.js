!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Docxgen=t()}}(function(){return function t(e,r,n){function i(s,o){if(!r[s]){if(!e[s]){var h="function"==typeof require&&require;if(!o&&h)return h(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[s]={exports:{}};e[s][0].call(u.exports,function(t){var r=e[s][1][t];return i(r?r:t)},u,u.exports,t,e,r,n)}return r[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){var n,i=[].slice;n={},n.getPathConfig=function(){return null==n.pathConfig?"":"node"===n.env?n.pathConfig.node:n.pathConfig.browser},n.escapeRegExp=function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},n.charMap={"&":"&amp;","'":"&apos;","<":"&lt;",">":"&gt;"},n.wordToUtf8=function(t){var e,r,i;i=n.charMap;for(e in i)r=i[e],t=t.replace(new RegExp(n.escapeRegExp(r),"g"),e);return t},n.utf8ToWord=function(t){var e,r,i;i=n.charMap;for(r in i)e=i[r],t=t.replace(new RegExp(n.escapeRegExp(r),"g"),e);return t},n.defaultParser=function(t){return{get:function(e){return"."===t?e:e[t]}}},n.tags={start:"{",end:"}"},n.clone=function(t){var e,r,i;if(null==t||"object"!=typeof t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return e="",null!=t.global&&(e+="g"),null!=t.ignoreCase&&(e+="i"),null!=t.multiline&&(e+="m"),null!=t.sticky&&(e+="y"),new RegExp(t.source,e);i=new t.constructor;for(r in t)i[r]=n.clone(t[r]);return i},n.replaceFirstFrom=function(t,e,r,n){return t.substr(0,n)+t.substr(n).replace(e,r)},n.encode_utf8=function(t){return unescape(encodeURIComponent(t))},n.convert_spaces=function(t){return t.replace(new RegExp(String.fromCharCode(160),"g")," ")},n.decode_utf8=function(t){var e;try{if(void 0===t)return;return decodeURIComponent(escape(n.convert_spaces(t)))}catch(r){throw e=r,console.error(t),console.error("could not decode"),new Error("end")}},n.base64encode=function(t){return btoa(unescape(encodeURIComponent(t)))},n.preg_match_all=function(t,e){var r,n;return"object"!=typeof t&&(t=new RegExp(t,"g")),r=[],n=function(){var t,e,n,a,s;return t=arguments[0],n=4<=arguments.length?i.call(arguments,1,s=arguments.length-2):(s=1,[]),e=arguments[s++],a=arguments[s++],n.unshift(t),n.offset=e,r.push(n)},e.replace(t,n),r},n.sizeOfObject=function(t){var e,r,n;n=0,r=0;for(e in t)n++;return n},n.getOuterXml=function(t,e,r,n){var i,a;if(i=t.indexOf("</"+n+">",r),-1===i)throw new Error("can't find endTag "+i);if(i+=("</"+n+">").length,a=Math.max(t.lastIndexOf("<"+n+">",e),t.lastIndexOf("<"+n+" ",e)),-1===a)throw new Error("can't find startTag");return{text:t.substr(a,i-a),startTag:a,endTag:i}},e.exports=n},{}],2:[function(t,e,r){var n,i,a,s={}.hasOwnProperty,o=function(t,e){function r(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};i=t("./xmlTemplater"),a=t("./xmlUtil"),n=n=function(t){function e(t,r){if(null==t&&(t=""),null==r&&(r={}),e.__super__.constructor.call(this,"",r),this.currentClass=e,this.tagXml="w:t","string"!=typeof t)throw new Error("content must be string!");this.load(t)}return o(e,t),e.prototype.calcIntellegentlyDashElement=function(){var t,r,n,i,s,o,h,l;for(l=this.templaterState.findOuterTagsContent(this.content),t=l.content,i=l.start,r=l.end,n=a.getListXmlElements(this.content,i,r-i),o=0,h=n.length;h>o;o++)if(s=n[o],"<w:tc>"===s.tag)return"w:tr";return e.__super__.calcIntellegentlyDashElement.call(this)},e}(i),e.exports=n},{"./xmlTemplater":8,"./xmlUtil":9}],3:[function(t,e,r){var n;e.exports=n=function(){function t(){this.modules=[]}return t.prototype.attachModule=function(t){return this.modules.push(t),t.manager=this,this},t.prototype.sendEvent=function(t,e){var r,n,i,a,s;for(a=this.modules,s=[],n=0,i=a.length;i>n;n++)r=a[n],s.push(r.handleEvent(t,e));return s},t.prototype.get=function(t){var e,r,n,i,a,s;for(n=null,s=this.modules,i=0,a=s.length;a>i;i++)r=s[i],e=r.get(t),n=null!==e?e:n;return n},t.prototype.handle=function(t,e){var r,n,i,a,s,o;for(i=null,o=this.modules,a=0,s=o.length;s>a;a++){if(n=o[a],null!==i)return;r=n.handle(t,e),i=null!==r?r:i}return i},t.prototype.getInstance=function(t){return this[t]},t}()},{}],4:[function(t,e,r){var n,i;n=t("./docUtils"),e.exports=i=function(){function t(t,e,r,n,i,a){this.tags=t,this.scopePath=e,this.usedTags=r,this.scopeList=n,this.parser=i,this.moduleManager=a,this.moduleManager.scopeManager=this}return t.prototype.loopOver=function(t,e,r){var n,i,a,s,o,h;if(null==r&&(r=!1),s=this.getValue(t),a=Object.prototype.toString.call(s),r)return null==s?e(this.scopeList[this.num]):s?void("[object Array]"===a&&0===s.length&&e(this.scopeList[this.num])):e(this.scopeList[this.num]);if(null!=s){if("[object Array]"===a)for(n=o=0,h=s.length;h>o;n=++o)i=s[n],e(i);return"[object Object]"===a&&e(s),s===!0?e(this.scopeList[this.num]):void 0}},t.prototype.getValue=function(t,e){var r,i,a;return this.num=null!=e?e:this.scopeList.length-1,a=this.scopeList[this.num],r=this.parser(n.wordToUtf8(t)),i=r.get(a),void 0===i&&this.num>0?this.getValue(t,this.num-1):i},t.prototype.getValueFromScope=function(t){var e,r;if(e=this.getValue(t),null!=e)if("string"==typeof e){if(this.useTag(t,!0),r=e,-1!==r.indexOf(n.tags.start)||-1!==r.indexOf(n.tags.end))throw new Error("You can't enter "+n.tags.start+" or	"+n.tags.end+" inside the content of the variable. Tag: "+t+", Value: "+e)}else r="number"==typeof e?String(e):e;else this.useTag(t,!1),r="undefined";return r},t.prototype.useTag=function(t,e){var r,n,i,a,s,o;for(i=e?this.usedTags.def:this.usedTags.undef,o=this.scopePath,r=a=0,s=o.length;s>a;r=++a)n=o[r],null==i[n]&&(i[n]={}),i=i[n];return""!==t?i[t]=!0:void 0},t}()},{"./docUtils":1}],5:[function(t,e,r){var n;e.exports=n=function(){function t(t){this.fullText=null!=t?t:"",this.text="",this.start=0,this.end=0}return t.prototype.getInnerTag=function(t){return this.start=t.calcPosition(t.tagStart),this.end=t.calcPosition(t.tagEnd)+1,this.refreshText()},t.prototype.refreshText=function(){return this.text=this.fullText.substr(this.start,this.end-this.start),this},t.prototype.getOuterXml=function(t){if(this.end=this.fullText.indexOf("</"+t+">",this.end),-1===this.end)throw new Error("can't find endTag "+this.end);if(this.end+=("</"+t+">").length,this.start=Math.max(this.fullText.lastIndexOf("<"+t+">",this.start),this.fullText.lastIndexOf("<"+t+" ",this.start)),-1===this.start)throw new Error("can't find startTag");return this.refreshText()},t.prototype.replace=function(t){return this.fullText=this.fullText.substr(0,this.start)+t+this.fullText.substr(this.end),this.end=this.start+t.length,this.refreshText()},t}()},{}],6:[function(t,e,r){var n,i;n=t("./docUtils"),e.exports=i=function(){function t(t){this.moduleManager=t,this.moduleManager.templaterState=this}return t.prototype.moveCharacters=function(t,e,r){var n,i,a,s;for(s=[],n=i=t,a=this.matches.length;a>=t?a>=i:i>=a;n=a>=t?++i:--i)s.push(this.charactersAdded[n]+=e-r);return s},t.prototype.calcStartTag=function(t){return this.calcPosition(t.start)},t.prototype.calcXmlTagPosition=function(t){return this.matches[t].offset+this.charactersAdded[t]},t.prototype.calcEndTag=function(t){return this.calcPosition(t.end)+1},t.prototype.calcPosition=function(t){return this.matches[t.numXmlTag].offset+this.matches[t.numXmlTag][1].length+this.charactersAdded[t.numXmlTag]+t.numCharacter},t.prototype.findOuterTagsContent=function(t){var e,r;return r=this.calcStartTag(this.loopOpen),e=this.calcEndTag(this.loopClose),{content:t.substr(r,e-r),start:r,end:e}},t.prototype.innerContent=function(t){return this.matches[this[t].numXmlTag][2]},t.prototype.findInnerTagsContent=function(t){var e,r;return r=this.calcEndTag(this.loopOpen),e=this.calcStartTag(this.loopClose),{content:t.substr(r,e-r),start:r,end:e}},t.prototype.initialize=function(){return this.context="",this.inForLoop=!1,this.loopIsInverted=!1,this.inTag=!1,this.inDashLoop=!1,this.rawXmlTag=!1,this.textInsideTag=""},t.prototype.startTag=function(){if(this.inTag===!0)throw new Error("Unclosed tag : '"+this.textInsideTag+"'");return this.inTag=!0,this.rawXmlTag=!1,this.textInsideTag="",this.tagStart=this.currentStep},t.prototype.loopType=function(){var t;return this.inDashLoop?"dash":this.inForLoop?"for":this.rawXmlTag?"xml":(t=this.moduleManager.get("loopType"),null!==t?t:"simple")},t.prototype.isLoopClosingTag=function(){return"/"===this.textInsideTag[0]&&"/"+this.loopOpen.tag===this.textInsideTag},t.prototype.getLeftValue=function(){return this.innerContent("tagStart").substr(0,this.tagStart.numCharacter+this.offset[this.tagStart.numXmlTag])},t.prototype.getRightValue=function(){return this.innerContent("tagEnd").substr(this.tagEnd.numCharacter+1+this.offset[this.tagEnd.numXmlTag])},t.prototype.endTag=function(){var t;if(this.inTag===!1)throw new Error("Unopened tag near : '"+this.context.substr(this.context.length-10,10)+"'");return this.inTag=!1,this.tagEnd=this.currentStep,this.textInsideTag=this.textInsideTag.substr(0,this.textInsideTag.length+1-n.tags.end.length),"simple"===this.loopType()&&("@"===this.textInsideTag[0]&&(this.rawXmlTag=!0,this.tag=this.textInsideTag.substr(1)),("#"===this.textInsideTag[0]||"^"===this.textInsideTag[0])&&(this.inForLoop=!0,this.loopOpen={start:this.tagStart,end:this.tagEnd,tag:this.textInsideTag.substr(1),raw:this.textInsideTag}),"^"===this.textInsideTag[0]&&(this.loopIsInverted=!0),"-"===this.textInsideTag[0]&&"simple"===this.loopType()&&(this.inDashLoop=!0,t=/^-([^\s]+)\s(.+)$/,this.loopOpen={start:this.tagStart,end:this.tagEnd,tag:this.textInsideTag.replace(t,"$2"),element:this.textInsideTag.replace(t,"$1"),raw:this.textInsideTag})),"/"===this.textInsideTag[0]?this.loopClose={start:this.tagStart,end:this.tagEnd,raw:this.textInsideTag}:void 0},t}()},{"./docUtils":1}],7:[function(t,e,r){var n,i,a=[].slice;n=t("./docUtils"),e.exports=i=function(){function t(t){this.content=t}return t.prototype.parse=function(t){var e;return this.tagXml=t,this.matches=n.preg_match_all("(<"+this.tagXml+"[^>]*>)([^<>]*)</"+this.tagXml+">",this.content),this.charactersAdded=function(){var t,r,n;for(n=[],e=t=0,r=this.matches.length;r>=0?r>t:t>r;e=r>=0?++t:--t)n.push(0);return n}.call(this),this.handleRecursiveCase(),this},t.prototype.handleRecursiveCase=function(){var t,e,r;return r=function(t){return function(){var e,r,n,i,s;return e=arguments[0],n=4<=arguments.length?a.call(arguments,1,s=arguments.length-2):(s=1,[]),r=arguments[s++],i=arguments[s++],n.unshift(e),n.offset=r,n.first=!0,t.matches.unshift(n),t.charactersAdded.unshift(0)}}(this),this.content.replace(/^()([^<]+)/,r),e=function(t){return function(){var e,r,n,i,s;return e=arguments[0],n=4<=arguments.length?a.call(arguments,1,s=arguments.length-2):(s=1,[]),r=arguments[s++],i=arguments[s++],n.unshift(e),n.offset=r,n.last=!0,t.matches.push(n),t.charactersAdded.push(0)}}(this),t="(<"+this.tagXml+"[^>]*>)([^>]+)$",this.content.replace(new RegExp(t),e),this},t}()},{"./docUtils":1}],8:[function(t,e,r){var n,i,a,s,o,h,l;n=t("./docUtils"),a=t("./scopeManager"),s=t("./subContent"),o=t("./templaterState"),h=t("./xmlMatcher"),i=t("./moduleManager"),e.exports=l=function(){function t(e,r){null==e&&(e=""),null==r&&(r={}),this.tagXml="",this.currentClass=t,this.fromJson(r),this.templaterState=new o(this.moduleManager),this.moduleManager.xmlTemplater=this}return t.prototype.load=function(t){var e;return this.content=t,e=new h(this.content).parse(this.tagXml),this.templaterState.matches=e.matches,this.templaterState.charactersAdded=e.charactersAdded},t.prototype.fromJson=function(t){return null==t&&(t={}),this.Tags=null!=t.Tags?t.Tags:{},this.intelligentTagging=null!=t.intelligentTagging?t.intelligentTagging:!1,this.scopePath=null!=t.scopePath?t.scopePath:[],this.scopeList=null!=t.scopeList?t.scopeList:[this.Tags],this.usedTags=null!=t.usedTags?t.usedTags:{def:{},undef:{}},this.parser=null!=t.parser?t.parser:n.defaultParser,this.moduleManager=null!=t.moduleManager?t.moduleManager:new i,this.scopeManager=new a(this.Tags,this.scopePath,this.usedTags,this.scopeList,this.parser,this.moduleManager)},t.prototype.toJson=function(){return{Tags:n.clone(this.scopeManager.tags),intelligentTagging:n.clone(this.intelligentTagging),scopePath:n.clone(this.scopeManager.scopePath),scopeList:n.clone(this.scopeManager.scopeList),usedTags:this.scopeManager.usedTags,parser:this.parser,moduleManager:this.moduleManager}},t.prototype.calcIntellegentlyDashElement=function(){return!1},t.prototype.getFullText=function(t){var e,r,i;return this.tagXml=null!=t?t:this.tagXml,r=new h(this.content).parse(this.tagXml),i=function(){var t,n,i,a;for(i=r.matches,a=[],t=0,n=i.length;n>t;t++)e=i[t],a.push(e[2]);return a}(),n.wordToUtf8(n.convert_spaces(i.join("")))},t.prototype.handleModuleManager=function(t,e){return this.moduleManager.xmlTemplater=this,this.moduleManager.templaterState=this.templaterState,this.moduleManager.scopeManager=this.scopeManager,this.moduleManager.handle(t,e)},t.prototype.render=function(){var t,e,r,i,a,s,o,h,l,u,f,d,c,p,g,m,_,w,b;for(this.templaterState.initialize(),u="",f=[],this.templaterState.offset=[],this.handleModuleManager("xmlRendering"),w=this.templaterState.matches,h=d=0,g=w.length;g>d;h=++d)for(s=w[h],e=s[2],this.templaterState.offset[h]=0,o=c=0,m=e.length;m>c;o=++c){if(t=e[o],u+=t,r=this.templaterState.inTag?n.tags.end.length:n.tags.start.length,u=u.substr(-r,r),this.templaterState.currentStep={numXmlTag:h,numCharacter:o},f.push({numXmlTag:h,numCharacter:o}),f=f.splice(-n.tags.start.length,n.tags.start.length),o+this.templaterState.offset[h]<0)throw new Error("Shouldn't be less than 0");for(this.templaterState.context+=t,b=this.templaterState.matches,l=p=0,_=b.length;_>p;l=++p)if(a=b[l],l===h&&this.content[a.offset+this.templaterState.charactersAdded[l]]!==a[0][0])throw console.error(this.content[a.offset+this.templaterState.charactersAdded[l]]),console.error(this.content),console.error(a[0]),new Error("no < at the beginning of "+a[0][0]+" (2)");if(this.sameTags=n.tags.start===n.tags.end,this.sameTags===!0&&this.templaterState.inTag===!1&&u===n.tags.start||this.sameTags===!1&&u===n.tags.start)this.templaterState.currentStep=f[0],this.templaterState.startTag();else if(this.sameTags===!0&&this.templaterState.inTag===!0&&u===n.tags.end||this.sameTags===!1&&u===n.tags.end){if(this.templaterState.endTag(),i=this.templaterState.loopType(),"simple"===i&&this.replaceSimpleTag(),"xml"===i&&this.replaceSimpleTagRawXml(),("dash"===i||"for"===i)&&this.templaterState.isLoopClosingTag())return this.replaceLoopTag();-1===["simple","dash","for","xml"].indexOf(i)&&this.handleModuleManager("replaceTag",i)}else this.templaterState.inTag===!0&&(this.templaterState.textInsideTag+=t)}return this.handleModuleManager("xmlRendered"),this},t.prototype.replaceSimpleTag=function(){var t;return t=this.scopeManager.getValueFromScope(this.templaterState.textInsideTag),this.content=this.replaceTagByValue(n.utf8ToWord(t),this.content)},t.prototype.replaceSimpleTagRawXml=function(){var t,e;return t=this.scopeManager.getValueFromScope(this.templaterState.tag),e=new s(this.content).getInnerTag(this.templaterState).getOuterXml("w:p"),this.replaceXml(e,t)},t.prototype.replaceXml=function(t,e){return this.templaterState.moveCharacters(this.templaterState.tagStart.numXmlTag,e.length,t.text.length),this.content=t.replace(e).fullText},t.prototype.deleteTag=function(t,e){var r;return this.templaterState.tagStart=e.start,this.templaterState.tagEnd=e.end,this.templaterState.textInsideTag=e.raw,r=this.replaceTagByValue("",t)},t.prototype.deleteOuterTags=function(t){return this.deleteTag(this.deleteTag(t,this.templaterState.loopOpen),this.templaterState.loopClose)},t.prototype.dashLoop=function(t,e){var r,i,a,s,o,h,l;return null==e&&(e=!1),l=this.templaterState.findOuterTagsContent(this.content),h=l._,o=l.start,r=l.end,a=n.getOuterXml(this.content,o,r,t),this.templaterState.moveCharacters(0,0,a.startTag),s=a.text,i=this.deleteOuterTags(s,e),this.forLoop(i,s)},t.prototype.xmlToBeReplaced=function(t,e,r,n,i){var a;return t?r:(a=e?"<"+this.tagXml+' xml:space="preserve">'+r:this.templaterState.matches[n][1]+r,i?a:a+("</"+this.tagXml+">"))},t.prototype.replaceXmlTag=function(t,e){var r,i,a,s,o,h,l;if(l=e.xmlTagNumber,r=e.insideValue,this.templaterState.offset[l]+=e.insideValue.length-this.templaterState.matches[l][2].length,o=null!=e.spacePreserve?e.spacePreserve:!0,a=null!=e.noStartTag?e.noStartTag:!1,i=null!=e.noEndTag?e.noEndTag:!1,s=this.xmlToBeReplaced(a,o,r,l,i),this.templaterState.matches[l][2]=r,h=this.templaterState.calcXmlTagPosition(l),this.templaterState.moveCharacters(l+1,s.length,this.templaterState.matches[l][0].length),-1===t.indexOf(this.templaterState.matches[l][0]))throw new Error("content "+this.templaterState.matches[l][0]+" not found in content");return t=n.replaceFirstFrom(t,this.templaterState.matches[l][0],s,h),this.templaterState.matches[l][0]=s,t},t.prototype.replaceTagByValue=function(t,e){var r,n,i,a,s;if(n={xmlTagNumber:this.templaterState.tagStart.numXmlTag,noStartTag:null!=this.templaterState.matches[this.templaterState.tagStart.numXmlTag].first,noEndTag:null!=this.templaterState.matches[this.templaterState.tagStart.numXmlTag].last},this.templaterState.tagEnd.numXmlTag===this.templaterState.tagStart.numXmlTag)return n.insideValue=this.templaterState.getLeftValue()+t+this.templaterState.getRightValue(),this.replaceXmlTag(e,n);if(this.templaterState.tagEnd.numXmlTag>this.templaterState.tagStart.numXmlTag){for(n.insideValue=t,null==this.templaterState.matches[this.templaterState.tagStart.numXmlTag].first&&null==this.templaterState.matches[this.templaterState.tagStart.numXmlTag].last&&(n.insideValue=this.templaterState.getLeftValue()+t),e=this.replaceXmlTag(e,n),n={insideValue:"",spacePreserve:!1},r=i=a=this.templaterState.tagStart.numXmlTag+1,s=this.templaterState.tagEnd.numXmlTag;s>=a?s>i:i>s;r=s>=a?++i:--i)n.xmlTagNumber=r,e=this.replaceXmlTag(e,n);return n={insideValue:this.templaterState.getRightValue(),spacePreserve:!0,xmlTagNumber:this.templaterState.tagEnd.numXmlTag,noEndTag:null!=this.templaterState.matches[this.templaterState.tagEnd.numXmlTag].last},this.replaceXmlTag(e,n)}},t.prototype.replaceLoopTag=function(){var t;return"dash"===this.templaterState.loopType()?this.dashLoop(this.templaterState.loopOpen.element):this.intelligentTagging===!0&&(t=this.calcIntellegentlyDashElement(),t!==!1)?this.dashLoop(t,!0):this.forLoop()},t.prototype.calcSubXmlTemplater=function(t,e){var r;return r=this.toJson(),null!=e&&null!=e.Tags&&(r.Tags=e.Tags,r.scopeList=r.scopeList.concat(e.Tags),r.scopePath=r.scopePath.concat(this.templaterState.loopOpen.tag)),new this.currentClass(t,r).render()},t.prototype.forLoop=function(t,e){var r,n;return null==t&&(t=this.templaterState.findInnerTagsContent(this.content).content),null==e&&(e=this.templaterState.findOuterTagsContent(this.content).content),n=this.templaterState.loopOpen.tag,r="",this.scopeManager.loopOver(n,function(e){return function(n){var i;return i=e.calcSubXmlTemplater(t,{Tags:n}),r+=i.content}}(this),this.templaterState.loopIsInverted),null==this.scopeManager.getValue(n)&&this.calcSubXmlTemplater(t,{Tags:{}}),this.content=this.content.replace(e,r),this.calcSubXmlTemplater(this.content)},t}()},{"./docUtils":1,"./moduleManager":3,"./scopeManager":4,"./subContent":5,"./templaterState":6,"./xmlMatcher":7}],9:[function(t,e,r){var n,i;n=t("./docUtils"),i={},i.getListXmlElements=function(t,e,r){var i,a,s,o,h,l,u,f,d,c;for(null==e&&(e=0),null==r&&(r=t.length-1),f=n.preg_match_all("<(/?[^/> ]+)([^>]*)>",t.substr(e,r)),l=[],i=d=0,c=f.length;c>d;i=++d)u=f[i],"/"===u[1][0]?(o=!1,l.length>0&&(h=l[l.length-1],s=h.tag.substr(1,h.tag.length-2),a=u[1].substr(1),s===a&&(o=!0)),o?l.pop():l.push({tag:"<"+u[1]+">",offset:u.offset})):"/"===u[2][u[2].length-1]||l.push({tag:"<"+u[1]+">",offset:u.offset});return l},i.getListDifferenceXmlElements=function(t,e,r){var n;for(null==e&&(e=0),null==r&&(r=t.length-1),n=this.getListXmlElements(t,e,r);;){if(n.length<=1)break;if(n[0].tag.substr(2)!==n[n.length-1].tag.substr(1))break;n.pop(),n.shift()}return n},e.exports=i},{"./docUtils":1}],10:[function(t,e,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(t,e){for(var r,i,a,s,o,h,l,u="",f=0;f<t.length;)r=t.charCodeAt(f++),i=t.charCodeAt(f++),a=t.charCodeAt(f++),s=r>>2,o=(3&r)<<4|i>>4,h=(15&i)<<2|a>>6,l=63&a,isNaN(i)?h=l=64:isNaN(a)&&(l=64),u=u+n.charAt(s)+n.charAt(o)+n.charAt(h)+n.charAt(l);return u},r.decode=function(t,e){var r,i,a,s,o,h,l,u="",f=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");f<t.length;)s=n.indexOf(t.charAt(f++)),o=n.indexOf(t.charAt(f++)),h=n.indexOf(t.charAt(f++)),l=n.indexOf(t.charAt(f++)),r=s<<2|o>>4,i=(15&o)<<4|h>>2,a=(3&h)<<6|l,u+=String.fromCharCode(r),64!=h&&(u+=String.fromCharCode(i)),64!=l&&(u+=String.fromCharCode(a));return u}},{}],11:[function(t,e,r){"use strict";function n(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}n.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=n},{}],12:[function(t,e,r){"use strict";r.STORE={magic:"\x00\x00",compress:function(t,e){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},r.DEFLATE=t("./flate")},{"./flate":17}],13:[function(t,e,r){"use strict";var n=t("./utils"),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(t,e){if("undefined"==typeof t||!t.length)return 0;var r="string"!==n.getTypeOf(t);"undefined"==typeof e&&(e=0);var a=0,s=0,o=0;e=-1^e;for(var h=0,l=t.length;l>h;h++)o=r?t[h]:t.charCodeAt(h),s=255&(e^o),a=i[s],e=e>>>8^a;return-1^e}},{"./utils":30}],14:[function(t,e,r){"use strict";function n(t){this.data=null,this.length=0,this.index=0}var i=t("./utils");n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<t||0>t)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},e.exports=n},{"./utils":30}],15:[function(t,e,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!1,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],16:[function(t,e,r){"use strict";var n=t("./utils");r.string2binary=function(t){return n.string2binary(t)},r.string2Uint8Array=function(t){return n.transformTo("uint8array",t)},r.uint8Array2String=function(t){return n.transformTo("string",t)},r.string2Blob=function(t){var e=n.transformTo("arraybuffer",t);return n.arrayBuffer2Blob(e)},r.arrayBuffer2Blob=function(t){return n.arrayBuffer2Blob(t)},r.transformTo=function(t,e){return n.transformTo(t,e)},r.getTypeOf=function(t){return n.getTypeOf(t)},r.checkSupport=function(t){return n.checkSupport(t)},r.MAX_VALUE_16BITS=n.MAX_VALUE_16BITS,r.MAX_VALUE_32BITS=n.MAX_VALUE_32BITS,r.pretty=function(t){return n.pretty(t)},r.findCompression=function(t){return n.findCompression(t)},r.isRegExp=function(t){return n.isRegExp(t)}},{"./utils":30}],17:[function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=t("pako");r.uncompressInputType=n?"uint8array":"array",r.compressInputType=n?"uint8array":"array",r.magic="\b\x00",r.compress=function(t,e){return i.deflateRaw(t,{level:e.level||-1})},r.uncompress=function(t){return i.inflateRaw(t)}},{pako:33}],18:[function(t,e,r){"use strict";function n(t,e){return this instanceof n?(this.files={},this.comment=null,this.root="",t&&this.load(t,e),void(this.clone=function(){var t=new n;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t})):new n(t,e)}var i=t("./base64");n.prototype=t("./object"),n.prototype.load=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.utils=t("./deprecatedPublicUtils"),n.base64={encode:function(t){return i.encode(t)},decode:function(t){return i.decode(t)}},n.compressions=t("./compressions"),e.exports=n},{"./base64":10,"./compressions":12,"./defaults":15,"./deprecatedPublicUtils":16,"./load":19,"./object":22,"./support":26}],19:[function(t,e,r){"use strict";var n=t("./base64"),i=t("./zipEntries");e.exports=function(t,e){var r,a,s,o;for(e=e||{},e.base64&&(t=n.decode(t)),a=new i(t,e),r=a.files,s=0;s<r.length;s++)o=r[s],this.file(o.fileName,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileComment.length?o.fileComment:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:e.createFolders});return a.zipComment.length&&(this.comment=a.zipComment),this}},{"./base64":10,"./zipEntries":31}],20:[function(t,e,r){(function(t){"use strict";e.exports=function(e,r){return new t(e,r)},e.exports.test=function(e){return t.isBuffer(e)}}).call(this,t("buffer").Buffer)},{buffer:49}],21:[function(t,e,r){"use strict";function n(t){this.data=t,this.length=this.data.length,this.index=0}var i=t("./uint8ArrayReader");n.prototype=new i,n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=n},{"./uint8ArrayReader":27}],22:[function(t,e,r){"use strict";var n=t("./support"),i=t("./utils"),a=t("./crc32"),s=t("./signature"),o=t("./defaults"),h=t("./base64"),l=t("./compressions"),u=t("./compressedObject"),f=t("./nodeBuffer"),d=t("./utf8"),c=t("./stringWriter"),p=t("./uint8ArrayWriter"),g=function(t){if(t._data instanceof u&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===i.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},m=function(t){var e=g(t),r=i.getTypeOf(e);return"string"===r?!t.options.binary&&n.nodebuffer?f(e,"utf-8"):t.asBinary():e},_=function(t){var e=g(this);return null===e||"undefined"==typeof e?"":(this.options.base64&&(e=h.decode(e)),e=t&&this.options.binary?B.utf8decode(e):i.transformTo("string",e),t||this.options.binary||(e=i.transformTo("string",B.utf8encode(e))),e)},w=function(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this.options=r,this._initialMetadata={dir:r.dir,date:r.date}};w.prototype={asText:function(){return _.call(this,!0)},asBinary:function(){return _.call(this,!1)},asNodeBuffer:function(){var t=m(this);return i.transformTo("nodebuffer",t)},asUint8Array:function(){var t=m(this);return i.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(t,e){var r,n="";for(r=0;e>r;r++)n+=String.fromCharCode(255&t),t>>>=8;return n},y=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&"undefined"==typeof r[e]&&(r[e]=arguments[t][e]);return r},v=function(t){return t=t||{},t.base64!==!0||null!==t.binary&&void 0!==t.binary||(t.binary=!0),t=y(t,o),t.date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t},x=function(t,e,r){var n,a=i.getTypeOf(e);if(r=v(r),"string"==typeof r.unixPermissions&&(r.unixPermissions=parseInt(r.unixPermissions,8)),r.unixPermissions&&16384&r.unixPermissions&&(r.dir=!0),r.dosPermissions&&16&r.dosPermissions&&(r.dir=!0),r.dir&&(t=E(t)),r.createFolders&&(n=T(t))&&S.call(this,n,!0),r.dir||null===e||"undefined"==typeof e)r.base64=!1,r.binary=!1,e=null,a=null;else if("string"===a)r.binary&&!r.base64&&r.optimizedBinaryString!==!0&&(e=i.string2binary(e));else{if(r.base64=!1,r.binary=!0,!(a||e instanceof u))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===a&&(e=i.transformTo("uint8array",e))}var s=new w(t,e,r);return this.files[t]=s,s},T=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},E=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},S=function(t,e){return e="undefined"!=typeof e?e:!1,t=E(t),this.files[t]||x.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},k=function(t,e,r){var n,s=new u;return t._data instanceof u?(s.uncompressedSize=t._data.uncompressedSize,s.crc32=t._data.crc32,0===s.uncompressedSize||t.dir?(e=l.STORE,s.compressedContent="",s.crc32=0):t._data.compressionMethod===e.magic?s.compressedContent=t._data.getCompressedContent():(n=t._data.getContent(),s.compressedContent=e.compress(i.transformTo(e.compressInputType,n),r))):(n=m(t),(!n||0===n.length||t.dir)&&(e=l.STORE,n=""),s.uncompressedSize=n.length,
s.crc32=a(n),s.compressedContent=e.compress(i.transformTo(e.compressInputType,n),r)),s.compressedSize=s.compressedContent.length,s.compressionMethod=e.magic,s},A=function(t,e){var r=t;return t||(r=e?16893:33204),(65535&r)<<16},I=function(t,e){return 63&(t||0)},C=function(t,e,r,n,o){var h,l,u,f,c=(r.compressedContent,i.transformTo("string",d.utf8encode(e.name))),p=e.comment||"",g=i.transformTo("string",d.utf8encode(p)),m=c.length!==e.name.length,_=g.length!==p.length,w=e.options,y="",v="",x="";u=e._initialMetadata.dir!==e.dir?e.dir:w.dir,f=e._initialMetadata.date!==e.date?e.date:w.date;var T=0,E=0;u&&(T|=16),"UNIX"===o?(E=798,T|=A(e.unixPermissions,u)):(E=20,T|=I(e.dosPermissions,u)),h=f.getHours(),h<<=6,h|=f.getMinutes(),h<<=5,h|=f.getSeconds()/2,l=f.getFullYear()-1980,l<<=4,l|=f.getMonth()+1,l<<=5,l|=f.getDate(),m&&(v=b(1,1)+b(a(c),4)+c,y+="up"+b(v.length,2)+v),_&&(x=b(1,1)+b(this.crc32(g),4)+g,y+="uc"+b(x.length,2)+x);var S="";S+="\n\x00",S+=m||_?"\x00\b":"\x00\x00",S+=r.compressionMethod,S+=b(h,2),S+=b(l,2),S+=b(r.crc32,4),S+=b(r.compressedSize,4),S+=b(r.uncompressedSize,4),S+=b(c.length,2),S+=b(y.length,2);var k=s.LOCAL_FILE_HEADER+S+c+y,C=s.CENTRAL_FILE_HEADER+b(E,2)+S+b(g.length,2)+"\x00\x00\x00\x00"+b(T,4)+b(n,4)+c+y+g;return{fileRecord:k,dirRecord:C,compressedObject:r}},B={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,r,n,i,a=[];for(e in this.files)this.files.hasOwnProperty(e)&&(n=this.files[e],i=new w(n.name,n._data,y(n.options)),r=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(r,i)&&a.push(i));return a},file:function(t,e,r){if(1===arguments.length){if(i.isRegExp(t)){var n=t;return this.filter(function(t,e){return!e.dir&&n.test(t)})}return this.filter(function(e,r){return!r.dir&&e===t})[0]||null}return t=this.root+t,x.call(this,t,e,r),this},folder:function(t){if(!t)return this;if(i.isRegExp(t))return this.filter(function(e,r){return r.dir&&t.test(e)});var e=this.root+t,r=S.call(this,e),n=this.clone();return n.root=r.name,n},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var r=this.filter(function(e,r){return r.name.slice(0,t.length)===t}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(t){t=y(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip"}),i.checkSupport(t.type),("darwin"===t.platform||"freebsd"===t.platform||"linux"===t.platform||"sunos"===t.platform)&&(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,r,n=[],a=0,o=0,u=i.transformTo("string",this.utf8encode(t.comment||this.comment||""));for(var f in this.files)if(this.files.hasOwnProperty(f)){var d=this.files[f],g=d.options.compression||t.compression.toUpperCase(),m=l[g];if(!m)throw new Error(g+" is not a valid compression method !");var _=d.options.compressionOptions||t.compressionOptions||{},w=k.call(this,d,m,_),v=C.call(this,f,d,w,a,t.platform);a+=v.fileRecord.length+w.compressedSize,o+=v.dirRecord.length,n.push(v)}var x="";x=s.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+b(n.length,2)+b(n.length,2)+b(o,4)+b(a,4)+b(u.length,2)+u;var T=t.type.toLowerCase();for(e="uint8array"===T||"arraybuffer"===T||"blob"===T||"nodebuffer"===T?new p(a+o+x.length):new c(a+o+x.length),r=0;r<n.length;r++)e.append(n[r].fileRecord),e.append(n[r].compressedObject.compressedContent);for(r=0;r<n.length;r++)e.append(n[r].dirRecord);e.append(x);var E=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(t.type.toLowerCase(),E);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",E),t.mimeType);case"base64":return t.base64?h.encode(E):E;default:return E}},crc32:function(t,e){return a(t,e)},utf8encode:function(t){return i.transformTo("string",d.utf8encode(t))},utf8decode:function(t){return d.utf8decode(t)}};e.exports=B},{"./base64":10,"./compressedObject":11,"./compressions":12,"./crc32":13,"./defaults":15,"./nodeBuffer":20,"./signature":23,"./stringWriter":25,"./support":26,"./uint8ArrayWriter":28,"./utf8":29,"./utils":30}],23:[function(t,e,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,r){"use strict";function n(t,e){this.data=t,e||(this.data=a.string2binary(this.data)),this.length=this.data.length,this.index=0}var i=t("./dataReader"),a=t("./utils");n.prototype=new i,n.prototype.byteAt=function(t){return this.data.charCodeAt(t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=n},{"./dataReader":14,"./utils":30}],25:[function(t,e,r){"use strict";var n=t("./utils"),i=function(){this.data=[]};i.prototype={append:function(t){t=n.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},e.exports=i},{"./utils":30}],26:[function(t,e,r){(function(t){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof t,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var e=new ArrayBuffer(0);try{r.blob=0===new Blob([e],{type:"application/zip"}).size}catch(n){try{var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,a=new i;a.append(e),r.blob=0===a.getBlob("application/zip").size}catch(n){r.blob=!1}}}}).call(this,t("buffer").Buffer)},{buffer:49}],27:[function(t,e,r){"use strict";function n(t){t&&(this.data=t,this.length=this.data.length,this.index=0)}var i=t("./dataReader");n.prototype=new i,n.prototype.byteAt=function(t){return this.data[t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===e&&this.data[a+1]===r&&this.data[a+2]===n&&this.data[a+3]===i)return a;return-1},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.index,this.index+t);return this.index+=t,e},e.exports=n},{"./dataReader":14}],28:[function(t,e,r){"use strict";var n=t("./utils"),i=function(t){this.data=new Uint8Array(t),this.index=0};i.prototype={append:function(t){0!==t.length&&(t=n.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},e.exports=i},{"./utils":30}],29:[function(t,e,r){"use strict";for(var n=t("./utils"),i=t("./support"),a=t("./nodeBuffer"),s=new Array(256),o=0;256>o;o++)s[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;s[254]=s[254]=1;var h=function(t){var e,r,n,a,s,o=t.length,h=0;for(a=0;o>a;a++)r=t.charCodeAt(a),55296===(64512&r)&&o>a+1&&(n=t.charCodeAt(a+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),a++)),h+=128>r?1:2048>r?2:65536>r?3:4;for(e=i.uint8array?new Uint8Array(h):new Array(h),s=0,a=0;h>s;a++)r=t.charCodeAt(a),55296===(64512&r)&&o>a+1&&(n=t.charCodeAt(a+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),a++)),128>r?e[s++]=r:2048>r?(e[s++]=192|r>>>6,e[s++]=128|63&r):65536>r?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|63&r):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|63&r);return e},l=function(t,e){var r;for(e=e||t.length,e>t.length&&(e=t.length),r=e-1;r>=0&&128===(192&t[r]);)r--;return 0>r?e:0===r?e:r+s[t[r]]>e?r:e},u=function(t){var e,r,i,a,o=t.length,h=new Array(2*o);for(r=0,e=0;o>e;)if(i=t[e++],128>i)h[r++]=i;else if(a=s[i],a>4)h[r++]=65533,e+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&o>e;)i=i<<6|63&t[e++],a--;a>1?h[r++]=65533:65536>i?h[r++]=i:(i-=65536,h[r++]=55296|i>>10&1023,h[r++]=56320|1023&i)}return h.length!==r&&(h.subarray?h=h.subarray(0,r):h.length=r),n.applyFromCharCode(h)};r.utf8encode=function(t){return i.nodebuffer?a(t,"utf-8"):h(t)},r.utf8decode=function(t){if(i.nodebuffer)return n.transformTo("nodebuffer",t).toString("utf-8");t=n.transformTo(i.uint8array?"uint8array":"array",t);for(var e=[],r=0,a=t.length,s=65536;a>r;){var o=l(t,Math.min(r+s,a));i.uint8array?e.push(u(t.subarray(r,o))):e.push(u(t.slice(r,o))),r=o}return e.join("")}},{"./nodeBuffer":20,"./support":26,"./utils":30}],30:[function(t,e,r){"use strict";function n(t){return t}function i(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}function a(t){var e=65536,n=[],i=t.length,a=r.getTypeOf(t),s=0,o=!0;try{switch(a){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,l(0))}}catch(h){o=!1}if(!o){for(var u="",f=0;f<t.length;f++)u+=String.fromCharCode(t[f]);return u}for(;i>s&&e>1;)try{"array"===a||"nodebuffer"===a?n.push(String.fromCharCode.apply(null,t.slice(s,Math.min(s+e,i)))):n.push(String.fromCharCode.apply(null,t.subarray(s,Math.min(s+e,i)))),s+=e}catch(h){e=Math.floor(e/2)}return n.join("")}function s(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}var o=t("./support"),h=t("./compressions"),l=t("./nodeBuffer");r.string2binary=function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(255&t.charCodeAt(r));return e},r.arrayBuffer2Blob=function(t,e){r.checkSupport("blob"),e=e||"application/zip";try{return new Blob([t],{type:e})}catch(n){try{var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,a=new i;return a.append(t),a.getBlob(e)}catch(n){throw new Error("Bug : can't construct the Blob.")}}},r.applyFromCharCode=a;var u={};u.string={string:n,array:function(t){return i(t,new Array(t.length))},arraybuffer:function(t){return u.string.uint8array(t).buffer},uint8array:function(t){return i(t,new Uint8Array(t.length))},nodebuffer:function(t){return i(t,l(t.length))}},u.array={string:a,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l(t)}},u.arraybuffer={string:function(t){return a(new Uint8Array(t))},array:function(t){return s(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l(new Uint8Array(t))}},u.uint8array={string:a,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return l(t)}},u.nodebuffer={string:a,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return u.nodebuffer.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:n},r.transformTo=function(t,e){if(e||(e=""),!t)return e;r.checkSupport(t);var n=r.getTypeOf(e),i=u[n][t](e);return i},r.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":o.nodebuffer&&l.test(t)?"nodebuffer":o.uint8array&&t instanceof Uint8Array?"uint8array":o.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(t){var e=o[t.toLowerCase()];if(!e)throw new Error(t+" is not supported by this browser")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(t){var e,r,n="";for(r=0;r<(t||"").length;r++)e=t.charCodeAt(r),n+="\\x"+(16>e?"0":"")+e.toString(16).toUpperCase();return n},r.findCompression=function(t){for(var e in h)if(h.hasOwnProperty(e)&&h[e].magic===t)return h[e];return null},r.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}},{"./compressions":12,"./nodeBuffer":20,"./support":26}],31:[function(t,e,r){"use strict";function n(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}var i=t("./stringReader"),a=t("./nodeBufferReader"),s=t("./uint8ArrayReader"),o=t("./utils"),h=t("./signature"),l=t("./zipEntry"),u=t("./support"),f=t("./object");n.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=f.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,n=this.zip64EndOfCentralSize-44,i=0;n>i;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===h.CENTRAL_FILE_HEADER;)t=new l({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(-1===t){var e=!0;try{this.reader.setIndex(0),this.checkSignature(h.LOCAL_FILE_HEADER),e=!1}catch(r){}throw e?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}if(this.reader.setIndex(t),this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,t=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),-1===t)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(t),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(t){var e=o.getTypeOf(t);"string"!==e||u.uint8array?"nodebuffer"===e?this.reader=new a(t):this.reader=new s(o.transformTo("uint8array",t)):this.reader=new i(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=n},{"./nodeBufferReader":21,"./object":22,"./signature":23,"./stringReader":24,"./support":26,"./uint8ArrayReader":27,"./utils":30,"./zipEntry":32}],32:[function(t,e,r){"use strict";function n(t,e){this.options=t,this.loadOptions=e}var i=t("./stringReader"),a=t("./utils"),s=t("./compressedObject"),o=t("./object"),h=0,l=3;n.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(t,e,r){return function(){var n=t.index;t.setIndex(e);var i=t.readData(r);return t.setIndex(n),i}},prepareContent:function(t,e,r,n,i){return function(){var t=a.transformTo(n.uncompressInputType,this.getCompressedContent()),e=n.uncompress(t);if(e.length!==i)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readString(this.fileNameLength),t.skip(r),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(e=a.findCompression(this.compressionMethod),null===e)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new s,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=a.transformTo("string",this.decompressed.getContent()),o.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readString(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readString(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=16&this.externalFileAttributes?!0:!1,t===h&&(this.dosPermissions=63&this.externalFileAttributes),t===l&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileName.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,r,n,i=t.index;for(this.extraFields=this.extraFields||{};t.index<i+this.extraFieldsLength;)e=t.readInt(2),r=t.readInt(2),n=t.readString(r),this.extraFields[e]={id:e,length:r,value:n}},handleUTF8:function(){if(this.useUTF8())this.fileName=o.utf8decode(this.fileName),this.fileComment=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();null!==t&&(this.fileName=t);var e=this.findExtraFieldUnicodeComment();null!==e&&(this.fileComment=e)}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:o.crc32(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:o.crc32(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null}},e.exports=n},{"./compressedObject":11,"./object":22,"./stringReader":24,"./utils":30}],33:[function(t,e,r){"use strict";var n=t("./lib/utils/common").assign,i=t("./lib/deflate"),a=t("./lib/inflate"),s=t("./lib/zlib/constants"),o={};n(o,i,a,s),e.exports=o},{"./lib/deflate":34,"./lib/inflate":35,"./lib/utils/common":36,"./lib/zlib/constants":39}],34:[function(t,e,r){"use strict";function n(t,e){var r=new y(e);if(r.push(t,!0),r.err)throw r.msg;return r.result}function i(t,e){return e=e||{},e.raw=!0,n(t,e)}function a(t,e){return e=e||{},e.gzip=!0,n(t,e)}var s=t("./zlib/deflate.js"),o=t("./utils/common"),h=t("./utils/strings"),l=t("./zlib/messages"),u=t("./zlib/zstream"),f=Object.prototype.toString,d=0,c=4,p=0,g=1,m=2,_=-1,w=0,b=8,y=function(t){this.options=o.assign({level:_,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:w,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==p)throw new Error(l[r]);e.header&&s.deflateSetHeader(this.strm,e.header)};y.prototype.push=function(t,e){var r,n,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:e===!0?c:d,"string"==typeof t?i.input=h.string2buf(t):"[object ArrayBuffer]"===f.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new o.Buf8(a),i.next_out=0,i.avail_out=a),r=s.deflate(i,n),r!==g&&r!==p)return this.onEnd(r),this.ended=!0,!1;(0===i.avail_out||0===i.avail_in&&(n===c||n===m))&&("string"===this.options.to?this.onData(h.buf2binstring(o.shrinkBuf(i.output,i.next_out))):this.onData(o.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&r!==g);return n===c?(r=s.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===p):n===m?(this.onEnd(p),i.avail_out=0,!0):!0},y.prototype.onData=function(t){this.chunks.push(t)},y.prototype.onEnd=function(t){t===p&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=y,r.deflate=n,r.deflateRaw=i,r.gzip=a},{"./utils/common":36,"./utils/strings":37,"./zlib/deflate.js":41,"./zlib/messages":46,"./zlib/zstream":48}],35:[function(t,e,r){"use strict";function n(t,e){var r=new c(e);if(r.push(t,!0),r.err)throw r.msg;return r.result}function i(t,e){return e=e||{},e.raw=!0,n(t,e)}var a=t("./zlib/inflate.js"),s=t("./utils/common"),o=t("./utils/strings"),h=t("./zlib/constants"),l=t("./zlib/messages"),u=t("./zlib/zstream"),f=t("./zlib/gzheader"),d=Object.prototype.toString,c=function(t){this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=a.inflateInit2(this.strm,e.windowBits);if(r!==h.Z_OK)throw new Error(l[r]);this.header=new f,a.inflateGetHeader(this.strm,this.header)};c.prototype.push=function(t,e){var r,n,i,l,u,f=this.strm,c=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:e===!0?h.Z_FINISH:h.Z_NO_FLUSH,"string"==typeof t?f.input=o.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new s.Buf8(c),f.next_out=0,f.avail_out=c),r=a.inflate(f,h.Z_NO_FLUSH),r!==h.Z_STREAM_END&&r!==h.Z_OK)return this.onEnd(r),this.ended=!0,!1;f.next_out&&(0===f.avail_out||r===h.Z_STREAM_END||0===f.avail_in&&(n===h.Z_FINISH||n===h.Z_SYNC_FLUSH))&&("string"===this.options.to?(i=o.utf8border(f.output,f.next_out),l=f.next_out-i,u=o.buf2string(f.output,i),f.next_out=l,f.avail_out=c-l,l&&s.arraySet(f.output,f.output,i,l,0),this.onData(u)):this.onData(s.shrinkBuf(f.output,f.next_out)))}while(f.avail_in>0&&r!==h.Z_STREAM_END);return r===h.Z_STREAM_END&&(n=h.Z_FINISH),n===h.Z_FINISH?(r=a.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===h.Z_OK):n===h.Z_SYNC_FLUSH?(this.onEnd(h.Z_OK),f.avail_out=0,!0):!0},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===h.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=c,r.inflate=n,r.inflateRaw=i,r.ungzip=n},{"./utils/common":36,"./utils/strings":37,"./zlib/constants":39,"./zlib/gzheader":42,"./zlib/inflate.js":44,"./zlib/messages":46,"./zlib/zstream":48}],36:[function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(r,r+n),i);for(var a=0;n>a;a++)t[i+a]=e[r+a]},flattenChunks:function(t){var e,r,n,i,a,s;for(n=0,e=0,r=t.length;r>e;e++)n+=t[e].length;for(s=new Uint8Array(n),i=0,e=0,r=t.length;r>e;e++)a=t[e],s.set(a,i),i+=a.length;return s}},a={arraySet:function(t,e,r,n,i){for(var a=0;n>a;a++)t[i+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(n)},{}],37:[function(t,e,r){"use strict";function n(t,e){if(65537>e&&(t.subarray&&s||!t.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var r="",n=0;e>n;n++)r+=String.fromCharCode(t[n]);return r}var i=t("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(o){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(o){s=!1}for(var h=new i.Buf8(256),l=0;256>l;l++)h[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;h[254]=h[254]=1,r.string2buf=function(t){var e,r,n,a,s,o=t.length,h=0;for(a=0;o>a;a++)r=t.charCodeAt(a),55296===(64512&r)&&o>a+1&&(n=t.charCodeAt(a+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),a++)),h+=128>r?1:2048>r?2:65536>r?3:4;for(e=new i.Buf8(h),s=0,a=0;h>s;a++)r=t.charCodeAt(a),55296===(64512&r)&&o>a+1&&(n=t.charCodeAt(a+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),a++)),128>r?e[s++]=r:2048>r?(e[s++]=192|r>>>6,e[s++]=128|63&r):65536>r?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|63&r):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|63&r);return e},r.buf2binstring=function(t){return n(t,t.length)},r.binstring2buf=function(t){for(var e=new i.Buf8(t.length),r=0,n=e.length;n>r;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,i,a,s,o=e||t.length,l=new Array(2*o);for(i=0,r=0;o>r;)if(a=t[r++],128>a)l[i++]=a;else if(s=h[a],s>4)l[i++]=65533,r+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&o>r;)a=a<<6|63&t[r++],s--;s>1?l[i++]=65533:65536>a?l[i++]=a:(a-=65536,l[i++]=55296|a>>10&1023,l[i++]=56320|1023&a)}return n(l,i)},r.utf8border=function(t,e){var r;for(e=e||t.length,e>t.length&&(e=t.length),r=e-1;r>=0&&128===(192&t[r]);)r--;return 0>r?e:0===r?e:r+h[t[r]]>e?r:e}},{"./common":36}],38:[function(t,e,r){"use strict";function n(t,e,r,n){for(var i=65535&t|0,a=t>>>16&65535|0,s=0;0!==r;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0}e.exports=n},{}],39:[function(t,e,r){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],40:[function(t,e,r){"use strict";function n(){for(var t,e=[],r=0;256>r;r++){t=r;for(var n=0;8>n;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}function i(t,e,r,n){var i=a,s=n+r;t=-1^t;for(var o=n;s>o;o++)t=t>>>8^i[255&(t^e[o])];return-1^t}var a=n();e.exports=i},{}],41:[function(t,e,r){"use strict";function n(t,e){return t.msg=R[e],e}function i(t){return(t<<1)-(t>4?9:0)}function a(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(I.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function o(t,e){C._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}function h(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function u(t,e,r,n){var i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,I.arraySet(e,t.input,t.next_in,i,r),1===t.state.wrap?t.adler=B(t.adler,e,i,r):2===t.state.wrap&&(t.adler=z(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function f(t,e){var r,n,i=t.max_chain_length,a=t.strstart,s=t.prev_length,o=t.nice_match,h=t.strstart>t.w_size-lt?t.strstart-(t.w_size-lt):0,l=t.window,u=t.w_mask,f=t.prev,d=t.strstart+ht,c=l[a+s-1],p=l[a+s];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do if(r=e,l[r+s]===p&&l[r+s-1]===c&&l[r]===l[a]&&l[++r]===l[a+1]){a+=2,r++;do;while(l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&d>a);if(n=ht-(d-a),a=d-ht,n>s){if(t.match_start=e,s=n,n>=o)break;c=l[a+s-1],p=l[a+s]}}while((e=f[e&u])>h&&0!==--i);return s<=t.lookahead?s:t.lookahead}function d(t){var e,r,n,i,a,s=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-lt)){I.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,r=t.hash_size,e=r;do n=t.head[--e],t.head[e]=n>=s?n-s:0;while(--r);r=s,e=r;do n=t.prev[--e],t.prev[e]=n>=s?n-s:0;while(--r);i+=s}if(0===t.strm.avail_in)break;if(r=u(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=r,t.lookahead+t.insert>=ot)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+ot-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<ot)););}while(t.lookahead<lt&&0!==t.strm.avail_in)}function c(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(d(t),0===t.lookahead&&e===O)return wt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,o(t,!1),0===t.strm.avail_out))return wt;if(t.strstart-t.block_start>=t.w_size-lt&&(o(t,!1),0===t.strm.avail_out))return wt}return t.insert=0,e===M?(o(t,!0),0===t.strm.avail_out?yt:vt):t.strstart>t.block_start&&(o(t,!1),0===t.strm.avail_out)?wt:wt}function p(t,e){for(var r,n;;){if(t.lookahead<lt){if(d(t),t.lookahead<lt&&e===O)return wt;if(0===t.lookahead)break}if(r=0,t.lookahead>=ot&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-lt&&(t.match_length=f(t,r)),t.match_length>=ot)if(n=C._tr_tally(t,t.strstart-t.match_start,t.match_length-ot),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ot){t.match_length--;do t.strstart++,
t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=C._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(o(t,!1),0===t.strm.avail_out))return wt}return t.insert=t.strstart<ot-1?t.strstart:ot-1,e===M?(o(t,!0),0===t.strm.avail_out?yt:vt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?wt:bt}function g(t,e){for(var r,n,i;;){if(t.lookahead<lt){if(d(t),t.lookahead<lt&&e===O)return wt;if(0===t.lookahead)break}if(r=0,t.lookahead>=ot&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ot-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-lt&&(t.match_length=f(t,r),t.match_length<=5&&(t.strategy===Y||t.match_length===ot&&t.strstart-t.match_start>4096)&&(t.match_length=ot-1)),t.prev_length>=ot&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ot,n=C._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ot),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ot-1,t.strstart++,n&&(o(t,!1),0===t.strm.avail_out))return wt}else if(t.match_available){if(n=C._tr_tally(t,0,t.window[t.strstart-1]),n&&o(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return wt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=C._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ot-1?t.strstart:ot-1,e===M?(o(t,!0),0===t.strm.avail_out?yt:vt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?wt:bt}function m(t,e){for(var r,n,i,a,s=t.window;;){if(t.lookahead<=ht){if(d(t),t.lookahead<=ht&&e===O)return wt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ot&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=t.strstart+ht;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&a>i);t.match_length=ht-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ot?(r=C._tr_tally(t,1,t.match_length-ot),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=C._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(o(t,!1),0===t.strm.avail_out))return wt}return t.insert=0,e===M?(o(t,!0),0===t.strm.avail_out?yt:vt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?wt:bt}function _(t,e){for(var r;;){if(0===t.lookahead&&(d(t),0===t.lookahead)){if(e===O)return wt;break}if(t.match_length=0,r=C._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(o(t,!1),0===t.strm.avail_out))return wt}return t.insert=0,e===M?(o(t,!0),0===t.strm.avail_out?yt:vt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?wt:bt}function w(t){t.window_size=2*t.w_size,a(t.head),t.max_lazy_match=A[t.level].max_lazy,t.good_match=A[t.level].good_length,t.nice_match=A[t.level].nice_length,t.max_chain_length=A[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ot-1,t.match_available=0,t.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new I.Buf16(2*at),this.dyn_dtree=new I.Buf16(2*(2*nt+1)),this.bl_tree=new I.Buf16(2*(2*it+1)),a(this.dyn_ltree),a(this.dyn_dtree),a(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new I.Buf16(st+1),this.heap=new I.Buf16(2*rt+1),a(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new I.Buf16(2*rt+1),a(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function y(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=J,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ft:mt,t.adler=2===e.wrap?0:1,e.last_flush=O,C._tr_init(e),D):n(t,N)}function v(t){var e=y(t);return e===D&&w(t.state),e}function x(t,e){return t&&t.state?2!==t.state.wrap?N:(t.state.gzhead=e,D):N}function T(t,e,r,i,a,s){if(!t)return N;var o=1;if(e===j&&(e=6),0>i?(o=0,i=-i):i>15&&(o=2,i-=16),1>a||a>$||r!==q||8>i||i>15||0>e||e>9||0>s||s>K)return n(t,N);8===i&&(i=9);var h=new b;return t.state=h,h.strm=t,h.wrap=o,h.gzhead=null,h.w_bits=i,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=a+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+ot-1)/ot),h.window=new I.Buf8(2*h.w_size),h.head=new I.Buf16(h.hash_size),h.prev=new I.Buf16(h.w_size),h.lit_bufsize=1<<a+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new I.Buf8(h.pending_buf_size),h.d_buf=h.lit_bufsize>>1,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=s,h.method=r,v(t)}function E(t,e){return T(t,e,q,G,Q,W)}function S(t,e){var r,o,u,f;if(!t||!t.state||e>P||0>e)return t?n(t,N):N;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||o.status===_t&&e!==M)return n(t,0===t.avail_out?Z:N);if(o.strm=t,r=o.last_flush,o.last_flush=e,o.status===ft)if(2===o.wrap)t.adler=0,h(o,31),h(o,139),h(o,8),o.gzhead?(h(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),h(o,255&o.gzhead.time),h(o,o.gzhead.time>>8&255),h(o,o.gzhead.time>>16&255),h(o,o.gzhead.time>>24&255),h(o,9===o.level?2:o.strategy>=V||o.level<2?4:0),h(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(h(o,255&o.gzhead.extra.length),h(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=z(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=dt):(h(o,0),h(o,0),h(o,0),h(o,0),h(o,0),h(o,9===o.level?2:o.strategy>=V||o.level<2?4:0),h(o,xt),o.status=mt);else{var d=q+(o.w_bits-8<<4)<<8,c=-1;c=o.strategy>=V||o.level<2?0:o.level<6?1:6===o.level?2:3,d|=c<<6,0!==o.strstart&&(d|=ut),d+=31-d%31,o.status=mt,l(o,d),0!==o.strstart&&(l(o,t.adler>>>16),l(o,65535&t.adler)),t.adler=1}if(o.status===dt)if(o.gzhead.extra){for(u=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>u&&(t.adler=z(t.adler,o.pending_buf,o.pending-u,u)),s(t),u=o.pending,o.pending!==o.pending_buf_size));)h(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>u&&(t.adler=z(t.adler,o.pending_buf,o.pending-u,u)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=ct)}else o.status=ct;if(o.status===ct)if(o.gzhead.name){u=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>u&&(t.adler=z(t.adler,o.pending_buf,o.pending-u,u)),s(t),u=o.pending,o.pending===o.pending_buf_size)){f=1;break}f=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,h(o,f)}while(0!==f);o.gzhead.hcrc&&o.pending>u&&(t.adler=z(t.adler,o.pending_buf,o.pending-u,u)),0===f&&(o.gzindex=0,o.status=pt)}else o.status=pt;if(o.status===pt)if(o.gzhead.comment){u=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>u&&(t.adler=z(t.adler,o.pending_buf,o.pending-u,u)),s(t),u=o.pending,o.pending===o.pending_buf_size)){f=1;break}f=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,h(o,f)}while(0!==f);o.gzhead.hcrc&&o.pending>u&&(t.adler=z(t.adler,o.pending_buf,o.pending-u,u)),0===f&&(o.status=gt)}else o.status=gt;if(o.status===gt&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&s(t),o.pending+2<=o.pending_buf_size&&(h(o,255&t.adler),h(o,t.adler>>8&255),t.adler=0,o.status=mt)):o.status=mt),0!==o.pending){if(s(t),0===t.avail_out)return o.last_flush=-1,D}else if(0===t.avail_in&&i(e)<=i(r)&&e!==M)return n(t,Z);if(o.status===_t&&0!==t.avail_in)return n(t,Z);if(0!==t.avail_in||0!==o.lookahead||e!==O&&o.status!==_t){var p=o.strategy===V?_(o,e):o.strategy===H?m(o,e):A[o.level].func(o,e);if((p===yt||p===vt)&&(o.status=_t),p===wt||p===yt)return 0===t.avail_out&&(o.last_flush=-1),D;if(p===bt&&(e===L?C._tr_align(o):e!==P&&(C._tr_stored_block(o,0,0,!1),e===U&&(a(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),s(t),0===t.avail_out))return o.last_flush=-1,D}return e!==M?D:o.wrap<=0?F:(2===o.wrap?(h(o,255&t.adler),h(o,t.adler>>8&255),h(o,t.adler>>16&255),h(o,t.adler>>24&255),h(o,255&t.total_in),h(o,t.total_in>>8&255),h(o,t.total_in>>16&255),h(o,t.total_in>>24&255)):(l(o,t.adler>>>16),l(o,65535&t.adler)),s(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?D:F)}function k(t){var e;return t&&t.state?(e=t.state.status,e!==ft&&e!==dt&&e!==ct&&e!==pt&&e!==gt&&e!==mt&&e!==_t?n(t,N):(t.state=null,e===mt?n(t,X):D)):N}var A,I=t("../utils/common"),C=t("./trees"),B=t("./adler32"),z=t("./crc32"),R=t("./messages"),O=0,L=1,U=3,M=4,P=5,D=0,F=1,N=-2,X=-3,Z=-5,j=-1,Y=1,V=2,H=3,K=4,W=0,J=2,q=8,$=9,G=15,Q=8,tt=29,et=256,rt=et+1+tt,nt=30,it=19,at=2*rt+1,st=15,ot=3,ht=258,lt=ht+ot+1,ut=32,ft=42,dt=69,ct=73,pt=91,gt=103,mt=113,_t=666,wt=1,bt=2,yt=3,vt=4,xt=3,Tt=function(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i};A=[new Tt(0,0,0,0,c),new Tt(4,4,8,4,p),new Tt(4,5,16,8,p),new Tt(4,6,32,32,p),new Tt(4,4,16,16,g),new Tt(8,16,32,32,g),new Tt(8,16,128,128,g),new Tt(8,32,128,256,g),new Tt(32,128,258,1024,g),new Tt(32,258,258,4096,g)],r.deflateInit=E,r.deflateInit2=T,r.deflateReset=v,r.deflateResetKeep=y,r.deflateSetHeader=x,r.deflate=S,r.deflateEnd=k,r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":36,"./adler32":38,"./crc32":40,"./messages":46,"./trees":47}],42:[function(t,e,r){"use strict";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=n},{}],43:[function(t,e,r){"use strict";var n=30,i=12;e.exports=function(t,e){var r,a,s,o,h,l,u,f,d,c,p,g,m,_,w,b,y,v,x,T,E,S,k,A,I;r=t.state,a=t.next_in,A=t.input,s=a+(t.avail_in-5),o=t.next_out,I=t.output,h=o-(e-t.avail_out),l=o+(t.avail_out-257),u=r.dmax,f=r.wsize,d=r.whave,c=r.wnext,p=r.window,g=r.hold,m=r.bits,_=r.lencode,w=r.distcode,b=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;t:do{15>m&&(g+=A[a++]<<m,m+=8,g+=A[a++]<<m,m+=8),v=_[g&b];e:for(;;){if(x=v>>>24,g>>>=x,m-=x,x=v>>>16&255,0===x)I[o++]=65535&v;else{if(!(16&x)){if(0===(64&x)){v=_[(65535&v)+(g&(1<<x)-1)];continue e}if(32&x){r.mode=i;break t}t.msg="invalid literal/length code",r.mode=n;break t}T=65535&v,x&=15,x&&(x>m&&(g+=A[a++]<<m,m+=8),T+=g&(1<<x)-1,g>>>=x,m-=x),15>m&&(g+=A[a++]<<m,m+=8,g+=A[a++]<<m,m+=8),v=w[g&y];r:for(;;){if(x=v>>>24,g>>>=x,m-=x,x=v>>>16&255,!(16&x)){if(0===(64&x)){v=w[(65535&v)+(g&(1<<x)-1)];continue r}t.msg="invalid distance code",r.mode=n;break t}if(E=65535&v,x&=15,x>m&&(g+=A[a++]<<m,m+=8,x>m&&(g+=A[a++]<<m,m+=8)),E+=g&(1<<x)-1,E>u){t.msg="invalid distance too far back",r.mode=n;break t}if(g>>>=x,m-=x,x=o-h,E>x){if(x=E-x,x>d&&r.sane){t.msg="invalid distance too far back",r.mode=n;break t}if(S=0,k=p,0===c){if(S+=f-x,T>x){T-=x;do I[o++]=p[S++];while(--x);S=o-E,k=I}}else if(x>c){if(S+=f+c-x,x-=c,T>x){T-=x;do I[o++]=p[S++];while(--x);if(S=0,T>c){x=c,T-=x;do I[o++]=p[S++];while(--x);S=o-E,k=I}}}else if(S+=c-x,T>x){T-=x;do I[o++]=p[S++];while(--x);S=o-E,k=I}for(;T>2;)I[o++]=k[S++],I[o++]=k[S++],I[o++]=k[S++],T-=3;T&&(I[o++]=k[S++],T>1&&(I[o++]=k[S++]))}else{S=o-E;do I[o++]=I[S++],I[o++]=I[S++],I[o++]=I[S++],T-=3;while(T>2);T&&(I[o++]=I[S++],T>1&&(I[o++]=I[S++]))}break}}break}}while(s>a&&l>o);T=m>>3,a-=T,m-=T<<3,g&=(1<<m)-1,t.next_in=a,t.next_out=o,t.avail_in=s>a?5+(s-a):5-(a-s),t.avail_out=l>o?257+(l-o):257-(o-l),r.hold=g,r.bits=m}},{}],44:[function(t,e,r){"use strict";function n(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=M,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new _.Buf32(pt),e.distcode=e.distdyn=new _.Buf32(gt),e.sane=1,e.back=-1,I):z}function s(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,a(t)):z}function o(t,e){var r,n;return t&&t.state?(n=t.state,0>e?(r=0,e=-e):(r=(e>>4)+1,48>e&&(e&=15)),e&&(8>e||e>15)?z:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,s(t))):z}function h(t,e){var r,n;return t?(n=new i,t.state=n,n.window=null,r=o(t,e),r!==I&&(t.state=null),r):z}function l(t){return h(t,_t)}function u(t){if(wt){var e;for(g=new _.Buf32(512),m=new _.Buf32(32),e=0;144>e;)t.lens[e++]=8;for(;256>e;)t.lens[e++]=9;for(;280>e;)t.lens[e++]=7;for(;288>e;)t.lens[e++]=8;for(v(T,t.lens,0,288,g,0,t.work,{bits:9}),e=0;32>e;)t.lens[e++]=5;v(E,t.lens,0,32,m,0,t.work,{bits:5}),wt=!1}t.lencode=g,t.lenbits=9,t.distcode=m,t.distbits=5}function f(t,e,r,n){var i,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new _.Buf8(a.wsize)),n>=a.wsize?(_.arraySet(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),_.arraySet(a.window,e,r-n,i,a.wnext),n-=i,n?(_.arraySet(a.window,e,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function d(t,e){var r,i,a,s,o,h,l,d,c,p,g,m,pt,gt,mt,_t,wt,bt,yt,vt,xt,Tt,Et,St,kt=0,At=new _.Buf8(4),It=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return z;r=t.state,r.mode===K&&(r.mode=W),o=t.next_out,a=t.output,l=t.avail_out,s=t.next_in,i=t.input,h=t.avail_in,d=r.hold,c=r.bits,p=h,g=l,Tt=I;t:for(;;)switch(r.mode){case M:if(0===r.wrap){r.mode=W;break}for(;16>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}if(2&r.wrap&&35615===d){r.check=0,At[0]=255&d,At[1]=d>>>8&255,r.check=b(r.check,At,2,0),d=0,c=0,r.mode=P;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&d)<<8)+(d>>8))%31){t.msg="incorrect header check",r.mode=ft;break}if((15&d)!==U){t.msg="unknown compression method",r.mode=ft;break}if(d>>>=4,c-=4,xt=(15&d)+8,0===r.wbits)r.wbits=xt;else if(xt>r.wbits){t.msg="invalid window size",r.mode=ft;break}r.dmax=1<<xt,t.adler=r.check=1,r.mode=512&d?V:K,d=0,c=0;break;case P:for(;16>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}if(r.flags=d,(255&r.flags)!==U){t.msg="unknown compression method",r.mode=ft;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=ft;break}r.head&&(r.head.text=d>>8&1),512&r.flags&&(At[0]=255&d,At[1]=d>>>8&255,r.check=b(r.check,At,2,0)),d=0,c=0,r.mode=D;case D:for(;32>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}r.head&&(r.head.time=d),512&r.flags&&(At[0]=255&d,At[1]=d>>>8&255,At[2]=d>>>16&255,At[3]=d>>>24&255,r.check=b(r.check,At,4,0)),d=0,c=0,r.mode=F;case F:for(;16>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}r.head&&(r.head.xflags=255&d,r.head.os=d>>8),512&r.flags&&(At[0]=255&d,At[1]=d>>>8&255,r.check=b(r.check,At,2,0)),d=0,c=0,r.mode=N;case N:if(1024&r.flags){for(;16>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}r.length=d,r.head&&(r.head.extra_len=d),512&r.flags&&(At[0]=255&d,At[1]=d>>>8&255,r.check=b(r.check,At,2,0)),d=0,c=0}else r.head&&(r.head.extra=null);r.mode=X;case X:if(1024&r.flags&&(m=r.length,m>h&&(m=h),m&&(r.head&&(xt=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),_.arraySet(r.head.extra,i,s,m,xt)),512&r.flags&&(r.check=b(r.check,i,m,s)),h-=m,s+=m,r.length-=m),r.length))break t;r.length=0,r.mode=Z;case Z:if(2048&r.flags){if(0===h)break t;m=0;do xt=i[s+m++],r.head&&xt&&r.length<65536&&(r.head.name+=String.fromCharCode(xt));while(xt&&h>m);if(512&r.flags&&(r.check=b(r.check,i,m,s)),h-=m,s+=m,xt)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=j;case j:if(4096&r.flags){if(0===h)break t;m=0;do xt=i[s+m++],r.head&&xt&&r.length<65536&&(r.head.comment+=String.fromCharCode(xt));while(xt&&h>m);if(512&r.flags&&(r.check=b(r.check,i,m,s)),h-=m,s+=m,xt)break t}else r.head&&(r.head.comment=null);r.mode=Y;case Y:if(512&r.flags){for(;16>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}if(d!==(65535&r.check)){t.msg="header crc mismatch",r.mode=ft;break}d=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=K;break;case V:for(;32>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}t.adler=r.check=n(d),d=0,c=0,r.mode=H;case H:if(0===r.havedict)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=h,r.hold=d,r.bits=c,B;t.adler=r.check=1,r.mode=K;case K:if(e===k||e===A)break t;case W:if(r.last){d>>>=7&c,c-=7&c,r.mode=ht;break}for(;3>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}switch(r.last=1&d,d>>>=1,c-=1,3&d){case 0:r.mode=J;break;case 1:if(u(r),r.mode=et,e===A){d>>>=2,c-=2;break t}break;case 2:r.mode=G;break;case 3:t.msg="invalid block type",r.mode=ft}d>>>=2,c-=2;break;case J:for(d>>>=7&c,c-=7&c;32>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}if((65535&d)!==(d>>>16^65535)){t.msg="invalid stored block lengths",r.mode=ft;break}if(r.length=65535&d,d=0,c=0,r.mode=q,e===A)break t;case q:r.mode=$;case $:if(m=r.length){if(m>h&&(m=h),m>l&&(m=l),0===m)break t;_.arraySet(a,i,s,m,o),h-=m,s+=m,l-=m,o+=m,r.length-=m;break}r.mode=K;break;case G:for(;14>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}if(r.nlen=(31&d)+257,d>>>=5,c-=5,r.ndist=(31&d)+1,d>>>=5,c-=5,r.ncode=(15&d)+4,d>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=ft;break}r.have=0,r.mode=Q;case Q:for(;r.have<r.ncode;){for(;3>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}r.lens[It[r.have++]]=7&d,d>>>=3,c-=3}for(;r.have<19;)r.lens[It[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Et={bits:r.lenbits},Tt=v(x,r.lens,0,19,r.lencode,0,r.work,Et),r.lenbits=Et.bits,Tt){t.msg="invalid code lengths set",r.mode=ft;break}r.have=0,r.mode=tt;case tt:for(;r.have<r.nlen+r.ndist;){for(;kt=r.lencode[d&(1<<r.lenbits)-1],mt=kt>>>24,_t=kt>>>16&255,wt=65535&kt,!(c>=mt);){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}if(16>wt)d>>>=mt,c-=mt,r.lens[r.have++]=wt;else{if(16===wt){for(St=mt+2;St>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}if(d>>>=mt,c-=mt,0===r.have){t.msg="invalid bit length repeat",r.mode=ft;break}xt=r.lens[r.have-1],m=3+(3&d),d>>>=2,c-=2}else if(17===wt){for(St=mt+3;St>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}d>>>=mt,c-=mt,xt=0,m=3+(7&d),d>>>=3,c-=3}else{for(St=mt+7;St>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}d>>>=mt,c-=mt,xt=0,m=11+(127&d),d>>>=7,c-=7}if(r.have+m>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=ft;break}for(;m--;)r.lens[r.have++]=xt}}if(r.mode===ft)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=ft;break}if(r.lenbits=9,Et={bits:r.lenbits},Tt=v(T,r.lens,0,r.nlen,r.lencode,0,r.work,Et),r.lenbits=Et.bits,Tt){t.msg="invalid literal/lengths set",r.mode=ft;break}if(r.distbits=6,r.distcode=r.distdyn,Et={bits:r.distbits},Tt=v(E,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Et),r.distbits=Et.bits,Tt){t.msg="invalid distances set",r.mode=ft;break}if(r.mode=et,e===A)break t;case et:r.mode=rt;case rt:if(h>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=h,r.hold=d,r.bits=c,y(t,g),o=t.next_out,a=t.output,l=t.avail_out,s=t.next_in,i=t.input,h=t.avail_in,d=r.hold,c=r.bits,r.mode===K&&(r.back=-1);break}for(r.back=0;kt=r.lencode[d&(1<<r.lenbits)-1],mt=kt>>>24,_t=kt>>>16&255,wt=65535&kt,!(c>=mt);){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}if(_t&&0===(240&_t)){for(bt=mt,yt=_t,vt=wt;kt=r.lencode[vt+((d&(1<<bt+yt)-1)>>bt)],mt=kt>>>24,_t=kt>>>16&255,wt=65535&kt,!(c>=bt+mt);){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}d>>>=bt,c-=bt,r.back+=bt}if(d>>>=mt,c-=mt,r.back+=mt,r.length=wt,0===_t){r.mode=ot;break}if(32&_t){r.back=-1,r.mode=K;break}if(64&_t){t.msg="invalid literal/length code",r.mode=ft;break}r.extra=15&_t,r.mode=nt;case nt:if(r.extra){for(St=r.extra;St>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=it;case it:for(;kt=r.distcode[d&(1<<r.distbits)-1],mt=kt>>>24,_t=kt>>>16&255,wt=65535&kt,!(c>=mt);){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}if(0===(240&_t)){for(bt=mt,yt=_t,vt=wt;kt=r.distcode[vt+((d&(1<<bt+yt)-1)>>bt)],mt=kt>>>24,_t=kt>>>16&255,wt=65535&kt,!(c>=bt+mt);){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}d>>>=bt,c-=bt,r.back+=bt}if(d>>>=mt,c-=mt,r.back+=mt,64&_t){t.msg="invalid distance code",r.mode=ft;break}r.offset=wt,r.extra=15&_t,r.mode=at;case at:if(r.extra){for(St=r.extra;St>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=ft;break}r.mode=st;case st:if(0===l)break t;if(m=g-l,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=ft;break}m>r.wnext?(m-=r.wnext,pt=r.wsize-m):pt=r.wnext-m,m>r.length&&(m=r.length),gt=r.window}else gt=a,pt=o-r.offset,m=r.length;m>l&&(m=l),l-=m,r.length-=m;do a[o++]=gt[pt++];while(--m);0===r.length&&(r.mode=rt);break;case ot:if(0===l)break t;a[o++]=r.length,l--,r.mode=rt;break;case ht:if(r.wrap){for(;32>c;){if(0===h)break t;h--,d|=i[s++]<<c,c+=8}if(g-=l,t.total_out+=g,r.total+=g,g&&(t.adler=r.check=r.flags?b(r.check,a,g,o-g):w(r.check,a,g,o-g)),g=l,(r.flags?d:n(d))!==r.check){t.msg="incorrect data check",r.mode=ft;break}d=0,c=0}r.mode=lt;case lt:if(r.wrap&&r.flags){for(;32>c;){if(0===h)break t;h--,d+=i[s++]<<c,c+=8}if(d!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=ft;break}d=0,c=0}r.mode=ut;case ut:Tt=C;break t;case ft:Tt=R;break t;case dt:return O;case ct:default:return z}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=h,r.hold=d,r.bits=c,(r.wsize||g!==t.avail_out&&r.mode<ft&&(r.mode<ht||e!==S))&&f(t,t.output,t.next_out,g-t.avail_out)?(r.mode=dt,O):(p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,r.total+=g,r.wrap&&g&&(t.adler=r.check=r.flags?b(r.check,a,g,t.next_out-g):w(r.check,a,g,t.next_out-g)),t.data_type=r.bits+(r.last?64:0)+(r.mode===K?128:0)+(r.mode===et||r.mode===q?256:0),(0===p&&0===g||e===S)&&Tt===I&&(Tt=L),Tt)}function c(t){if(!t||!t.state)return z;var e=t.state;return e.window&&(e.window=null),t.state=null,I}function p(t,e){var r;return t&&t.state?(r=t.state,0===(2&r.wrap)?z:(r.head=e,e.done=!1,I)):z}var g,m,_=t("../utils/common"),w=t("./adler32"),b=t("./crc32"),y=t("./inffast"),v=t("./inftrees"),x=0,T=1,E=2,S=4,k=5,A=6,I=0,C=1,B=2,z=-2,R=-3,O=-4,L=-5,U=8,M=1,P=2,D=3,F=4,N=5,X=6,Z=7,j=8,Y=9,V=10,H=11,K=12,W=13,J=14,q=15,$=16,G=17,Q=18,tt=19,et=20,rt=21,nt=22,it=23,at=24,st=25,ot=26,ht=27,lt=28,ut=29,ft=30,dt=31,ct=32,pt=852,gt=592,mt=15,_t=mt,wt=!0;r.inflateReset=s,r.inflateReset2=o,r.inflateResetKeep=a,r.inflateInit=l,r.inflateInit2=h,r.inflate=d,r.inflateEnd=c,r.inflateGetHeader=p,r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":36,"./adler32":38,"./crc32":40,"./inffast":43,"./inftrees":45}],45:[function(t,e,r){"use strict";var n=t("../utils/common"),i=15,a=852,s=592,o=0,h=1,l=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,p,g,m,_,w){var b,y,v,x,T,E,S,k,A,I=w.bits,C=0,B=0,z=0,R=0,O=0,L=0,U=0,M=0,P=0,D=0,F=null,N=0,X=new n.Buf16(i+1),Z=new n.Buf16(i+1),j=null,Y=0;for(C=0;i>=C;C++)X[C]=0;for(B=0;p>B;B++)X[e[r+B]]++;for(O=I,R=i;R>=1&&0===X[R];R--);if(O>R&&(O=R),0===R)return g[m++]=20971520,g[m++]=20971520,w.bits=1,0;for(z=1;R>z&&0===X[z];z++);for(z>O&&(O=z),M=1,C=1;i>=C;C++)if(M<<=1,M-=X[C],0>M)return-1;if(M>0&&(t===o||1!==R))return-1;for(Z[1]=0,C=1;i>C;C++)Z[C+1]=Z[C]+X[C];for(B=0;p>B;B++)0!==e[r+B]&&(_[Z[e[r+B]]++]=B);if(t===o?(F=j=_,E=19):t===h?(F=u,N-=257,j=f,Y-=257,E=256):(F=d,j=c,E=-1),D=0,B=0,C=z,T=m,L=O,U=0,v=-1,P=1<<O,x=P-1,t===h&&P>a||t===l&&P>s)return 1;for(var V=0;;){V++,S=C-U,_[B]<E?(k=0,A=_[B]):_[B]>E?(k=j[Y+_[B]],A=F[N+_[B]]):(k=96,A=0),b=1<<C-U,y=1<<L,z=y;do y-=b,g[T+(D>>U)+y]=S<<24|k<<16|A|0;while(0!==y);for(b=1<<C-1;D&b;)b>>=1;if(0!==b?(D&=b-1,D+=b):D=0,B++,0===--X[C]){if(C===R)break;C=e[r+_[B]]}if(C>O&&(D&x)!==v){for(0===U&&(U=O),T+=z,L=C-U,M=1<<L;R>L+U&&(M-=X[L+U],!(0>=M));)L++,M<<=1;if(P+=1<<L,t===h&&P>a||t===l&&P>s)return 1;v=D&x,g[v]=O<<24|L<<16|T-m|0}}return 0!==D&&(g[T+D]=C-U<<24|64<<16|0),w.bits=O,0}},{"../utils/common":36}],46:[function(t,e,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],47:[function(t,e,r){"use strict";function n(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t){return 256>t?st[t]:st[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function s(t,e,r){t.bi_valid>K-r?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>K-t.bi_valid,t.bi_valid+=r-K):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function o(t,e,r){s(t,r[2*e],r[2*e+1])}function h(t,e){var r=0;do r|=1&t,t>>>=1,r<<=1;while(--e>0);return r>>>1}function l(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function u(t,e){var r,n,i,a,s,o,h=e.dyn_tree,l=e.max_code,u=e.stat_desc.static_tree,f=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(a=0;H>=a;a++)t.bl_count[a]=0;for(h[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;V>r;r++)n=t.heap[r],a=h[2*h[2*n+1]+1]+1,a>p&&(a=p,g++),h[2*n+1]=a,n>l||(t.bl_count[a]++,s=0,n>=c&&(s=d[n-c]),o=h[2*n],t.opt_len+=o*(a+s),f&&(t.static_len+=o*(u[2*n+1]+s)));if(0!==g){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(a=p;0!==a;a--)for(n=t.bl_count[a];0!==n;)i=t.heap[--r],i>l||(h[2*i+1]!==a&&(t.opt_len+=(a-h[2*i+1])*h[2*i],h[2*i+1]=a),n--)}}function f(t,e,r){var n,i,a=new Array(H+1),s=0;for(n=1;H>=n;n++)a[n]=s=s+r[n-1]<<1;for(i=0;e>=i;i++){var o=t[2*i+1];0!==o&&(t[2*i]=h(a[o]++,o))}}function d(){var t,e,r,n,i,a=new Array(H+1);for(r=0,n=0;N-1>n;n++)for(ht[n]=r,t=0;t<1<<Q[n];t++)ot[r++]=n;for(ot[r-1]=n,i=0,n=0;16>n;n++)for(lt[n]=i,t=0;t<1<<tt[n];t++)st[i++]=n;for(i>>=7;j>n;n++)for(lt[n]=i<<7,t=0;t<1<<tt[n]-7;t++)st[256+i++]=n;for(e=0;H>=e;e++)a[e]=0;for(t=0;143>=t;)it[2*t+1]=8,t++,a[8]++;for(;255>=t;)it[2*t+1]=9,t++,a[9]++;for(;279>=t;)it[2*t+1]=7,t++,a[7]++;for(;287>=t;)it[2*t+1]=8,t++,a[8]++;for(f(it,Z+1,a),t=0;j>t;t++)at[2*t+1]=5,at[2*t]=h(t,5);ut=new ct(it,Q,X+1,Z,H),ft=new ct(at,tt,0,j,H),dt=new ct(new Array(0),et,0,Y,W)}function c(t){var e;for(e=0;Z>e;e++)t.dyn_ltree[2*e]=0;for(e=0;j>e;e++)t.dyn_dtree[2*e]=0;for(e=0;Y>e;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*J]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function p(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function g(t,e,r,n){p(t),n&&(a(t,r),a(t,~r)),B.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function m(t,e,r,n){var i=2*e,a=2*r;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]}function _(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&m(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!m(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function w(t,e,r){var n,a,h,l,u=0;if(0!==t.last_lit)do n=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],a=t.pending_buf[t.l_buf+u],u++,0===n?o(t,a,e):(h=ot[a],o(t,h+X+1,e),l=Q[h],0!==l&&(a-=ht[h],s(t,a,l)),n--,h=i(n),o(t,h,r),l=tt[h],0!==l&&(n-=lt[h],s(t,n,l)));while(u<t.last_lit);o(t,J,e)}function b(t,e){var r,n,i,a=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,h=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=V,r=0;h>r;r++)0!==a[2*r]?(t.heap[++t.heap_len]=l=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)i=t.heap[++t.heap_len]=2>l?++l:0,a[2*i]=1,t.depth[i]=0,t.opt_len--,o&&(t.static_len-=s[2*i+1]);for(e.max_code=l,r=t.heap_len>>1;r>=1;r--)_(t,a,r);i=h;do r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],_(t,a,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,a[2*i]=a[2*r]+a[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,a[2*r+1]=a[2*n+1]=i,t.heap[1]=i++,_(t,a,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],u(t,e),f(a,l,t.bl_count)}function y(t,e,r){var n,i,a=-1,s=e[1],o=0,h=7,l=4;for(0===s&&(h=138,l=3),e[2*(r+1)+1]=65535,n=0;r>=n;n++)i=s,s=e[2*(n+1)+1],++o<h&&i===s||(l>o?t.bl_tree[2*i]+=o:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[2*q]++):10>=o?t.bl_tree[2*$]++:t.bl_tree[2*G]++,o=0,a=i,0===s?(h=138,l=3):i===s?(h=6,l=3):(h=7,l=4))}function v(t,e,r){var n,i,a=-1,h=e[1],l=0,u=7,f=4;for(0===h&&(u=138,f=3),n=0;r>=n;n++)if(i=h,h=e[2*(n+1)+1],!(++l<u&&i===h)){if(f>l){do o(t,i,t.bl_tree);while(0!==--l)}else 0!==i?(i!==a&&(o(t,i,t.bl_tree),l--),o(t,q,t.bl_tree),s(t,l-3,2)):10>=l?(o(t,$,t.bl_tree),s(t,l-3,3)):(o(t,G,t.bl_tree),s(t,l-11,7));l=0,a=i,0===h?(u=138,f=3):i===h?(u=6,f=3):(u=7,f=4)}}function x(t){var e;for(y(t,t.dyn_ltree,t.l_desc.max_code),y(t,t.dyn_dtree,t.d_desc.max_code),b(t,t.bl_desc),e=Y-1;e>=3&&0===t.bl_tree[2*rt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function T(t,e,r,n){var i;for(s(t,e-257,5),s(t,r-1,5),s(t,n-4,4),i=0;n>i;i++)s(t,t.bl_tree[2*rt[i]+1],3);v(t,t.dyn_ltree,e-1),v(t,t.dyn_dtree,r-1)}function E(t){var e,r=4093624447;for(e=0;31>=e;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return R;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return O;for(e=32;X>e;e++)if(0!==t.dyn_ltree[2*e])return O;return R}function S(t){gt||(d(),gt=!0),t.l_desc=new pt(t.dyn_ltree,ut),t.d_desc=new pt(t.dyn_dtree,ft),t.bl_desc=new pt(t.bl_tree,dt),t.bi_buf=0,t.bi_valid=0,c(t)}function k(t,e,r,n){s(t,(U<<1)+(n?1:0),3),g(t,e,r,!0)}function A(t){s(t,M<<1,3),o(t,J,it),l(t)}function I(t,e,r,n){var i,a,o=0;t.level>0?(t.strm.data_type===L&&(t.strm.data_type=E(t)),b(t,t.l_desc),b(t,t.d_desc),o=x(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,i>=a&&(i=a)):i=a=r+5,i>=r+4&&-1!==e?k(t,e,r,n):t.strategy===z||a===i?(s(t,(M<<1)+(n?1:0),3),w(t,it,at)):(s(t,(P<<1)+(n?1:0),3),T(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),w(t,t.dyn_ltree,t.dyn_dtree)),c(t),n&&p(t)}function C(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(ot[r]+X+1)]++,t.dyn_dtree[2*i(e)]++),t.last_lit===t.lit_bufsize-1}var B=t("../utils/common"),z=4,R=0,O=1,L=2,U=0,M=1,P=2,D=3,F=258,N=29,X=256,Z=X+1+N,j=30,Y=19,V=2*Z+1,H=15,K=16,W=7,J=256,q=16,$=17,G=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],nt=512,it=new Array(2*(Z+2));
n(it);var at=new Array(2*j);n(at);var st=new Array(nt);n(st);var ot=new Array(F-D+1);n(ot);var ht=new Array(N);n(ht);var lt=new Array(j);n(lt);var ut,ft,dt,ct=function(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length},pt=function(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e},gt=!1;r._tr_init=S,r._tr_stored_block=k,r._tr_flush_block=I,r._tr_tally=C,r._tr_align=A},{"../utils/common":36}],48:[function(t,e,r){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},{}],49:[function(t,e,r){function n(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t){return this instanceof i?(this.length=0,this.parent=void 0,"number"==typeof t?a(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):o(this,t)):arguments.length>1?new i(t,arguments[1]):new i(t)}function a(t,e){if(t=c(t,0>e?0:0|p(e)),!i.TYPED_ARRAY_SUPPORT)for(var r=0;e>r;r++)t[r]=0;return t}function s(t,e,r){("string"!=typeof r||""===r)&&(r="utf8");var n=0|m(e,r);return t=c(t,n),t.write(e,r),t}function o(t,e){if(i.isBuffer(e))return h(t,e);if(W(e))return l(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");return"undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer?u(t,e):e.length?f(t,e):d(t,e)}function h(t,e){var r=0|p(e.length);return t=c(t,r),e.copy(t,0,0,r),t}function l(t,e){var r=0|p(e.length);t=c(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function u(t,e){var r=0|p(e.length);t=c(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function f(t,e){var r=0|p(e.length);t=c(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function d(t,e){var r,n=0;"Buffer"===e.type&&W(e.data)&&(r=e.data,n=0|p(r.length)),t=c(t,n);for(var i=0;n>i;i+=1)t[i]=255&r[i];return t}function c(t,e){i.TYPED_ARRAY_SUPPORT?t=i._augment(new Uint8Array(e)):(t.length=e,t._isBuffer=!0);var r=0!==e&&e<=i.poolSize>>>1;return r&&(t.parent=J),t}function p(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function g(t,e){if(!(this instanceof g))return new g(t,e);var r=new i(t,e);return delete r.parent,r}function m(t,e){"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(t).length;default:if(n)return N(t).length;e=(""+e).toLowerCase(),n=!0}}function _(t,e,r){var n=!1;if(e=0|e,r=void 0===r||r===1/0?this.length:0|r,t||(t="utf8"),0>e&&(e=0),r>this.length&&(r=this.length),e>=r)return"";for(;;)switch(t){case"hex":return I(this,e,r);case"utf8":case"utf-8":return S(this,e,r);case"ascii":return k(this,e,r);case"binary":return A(this,e,r);case"base64":return E(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function w(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=e.length;if(a%2!==0)throw new Error("Invalid hex string");n>a/2&&(n=a/2);for(var s=0;n>s;s++){var o=parseInt(e.substr(2*s,2),16);if(isNaN(o))throw new Error("Invalid hex string");t[r+s]=o}return s}function b(t,e,r,n){return Y(N(e,t.length-r),t,r,n)}function y(t,e,r,n){return Y(X(e),t,r,n)}function v(t,e,r,n){return y(t,e,r,n)}function x(t,e,r,n){return Y(j(e),t,r,n)}function T(t,e,r,n){return Y(Z(e,t.length-r),t,r,n)}function E(t,e,r){return 0===e&&r===t.length?H.fromByteArray(t):H.fromByteArray(t.slice(e,r))}function S(t,e,r){var n="",i="";r=Math.min(t.length,r);for(var a=e;r>a;a++)t[a]<=127?(n+=V(i)+String.fromCharCode(t[a]),i=""):i+="%"+t[a].toString(16);return n+V(i)}function k(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;r>i;i++)n+=String.fromCharCode(127&t[i]);return n}function A(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;r>i;i++)n+=String.fromCharCode(t[i]);return n}function I(t,e,r){var n=t.length;(!e||0>e)&&(e=0),(!r||0>r||r>n)&&(r=n);for(var i="",a=e;r>a;a++)i+=F(t[a]);return i}function C(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function B(t,e,r){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function z(t,e,r,n,a,s){if(!i.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>a||s>e)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range")}function R(t,e,r,n){0>e&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-r,2);a>i;i++)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function O(t,e,r,n){0>e&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-r,4);a>i;i++)t[r+i]=e>>>8*(n?i:3-i)&255}function L(t,e,r,n,i,a){if(e>i||a>e)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range");if(0>r)throw new RangeError("index out of range")}function U(t,e,r,n,i){return i||L(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(t,e,r,n,23,4),r+4}function M(t,e,r,n,i){return i||L(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(t,e,r,n,52,8),r+8}function P(t){if(t=D(t).replace($,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function D(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function F(t){return 16>t?"0"+t.toString(16):t.toString(16)}function N(t,e){e=e||1/0;for(var r,n=t.length,i=null,a=[],s=0;n>s;s++){if(r=t.charCodeAt(s),r>55295&&57344>r){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(56320>r){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&((e-=3)>-1&&a.push(239,191,189),i=null);if(128>r){if((e-=1)<0)break;a.push(r)}else if(2048>r){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(65536>r){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(2097152>r))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function X(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function Z(t,e){for(var r,n,i,a=[],s=0;s<t.length&&!((e-=2)<0);s++)r=t.charCodeAt(s),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function j(t){return H.toByteArray(P(t))}function Y(t,e,r,n){for(var i=0;n>i&&!(i+r>=e.length||i>=t.length);i++)e[i+r]=t[i];return i}function V(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}var H=t("base64-js"),K=t("ieee754"),W=t("is-array");r.Buffer=i,r.SlowBuffer=g,r.INSPECT_MAX_BYTES=50,i.poolSize=8192;var J={};i.TYPED_ARRAY_SUPPORT=function(){function t(){}try{var e=new ArrayBuffer(0),r=new Uint8Array(e);return r.foo=function(){return 42},r.constructor=t,42===r.foo()&&r.constructor===t&&"function"==typeof r.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,a=0,s=Math.min(r,n);s>a&&t[a]===e[a];)++a;return a!==s&&(r=t[a],n=e[a]),n>r?-1:r>n?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!W(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new i(0);if(1===t.length)return t[0];var r;if(void 0===e)for(e=0,r=0;r<t.length;r++)e+=t[r].length;var n=new i(e),a=0;for(r=0;r<t.length;r++){var s=t[r];s.copy(n,a),a+=s.length}return n},i.byteLength=m,i.prototype.length=void 0,i.prototype.parent=void 0,i.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):_.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===i.compare(this,t)},i.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:i.compare(this,t)},i.prototype.indexOf=function(t,e){function r(t,e,r){for(var n=-1,i=0;r+i<t.length;i++)if(t[r+i]===e[-1===n?0:i-n]){if(-1===n&&(n=i),i-n+1===e.length)return r+n}else n=-1;return-1}if(e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(i.isBuffer(t))return r(this,t,e);if("number"==typeof t)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):r(this,[t],e);throw new TypeError("val must be string, number or Buffer")},i.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},i.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},i.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var i=n;n=e,e=0|r,r=i}var a=this.length-e;if((void 0===r||r>a)&&(r=a),t.length>0&&(0>r||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":return y(this,t,e,r);case"binary":return v(this,t,e,r);case"base64":return x(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),t>e&&(e=t);var n;if(i.TYPED_ARRAY_SUPPORT)n=i._augment(this.subarray(t,e));else{var a=e-t;n=new i(a,void 0);for(var s=0;a>s;s++)n[s]=this[s+t]}return n.length&&(n.parent=this.parent||this),n},i.prototype.readUIntLE=function(t,e,r){t=0|t,e=0|e,r||B(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n},i.prototype.readUIntBE=function(t,e,r){t=0|t,e=0|e,r||B(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},i.prototype.readUInt8=function(t,e){return e||B(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return e||B(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return e||B(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,r){t=0|t,e=0|e,r||B(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},i.prototype.readIntBE=function(t,e,r){t=0|t,e=0|e,r||B(t,e,this.length);for(var n=e,i=1,a=this[t+--n];n>0&&(i*=256);)a+=this[t+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*e)),a},i.prototype.readInt8=function(t,e){return e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){e||B(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(t,e){e||B(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(t,e){return e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return e||B(t,4,this.length),K.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return e||B(t,4,this.length),K.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return e||B(t,8,this.length),K.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return e||B(t,8,this.length),K.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,r,n){t=+t,e=0|e,r=0|r,n||z(this,t,e,r,Math.pow(2,8*r),0);var i=1,a=0;for(this[e]=255&t;++a<r&&(i*=256);)this[e+a]=t/i&255;return e+r},i.prototype.writeUIntBE=function(t,e,r,n){t=+t,e=0|e,r=0|r,n||z(this,t,e,r,Math.pow(2,8*r),0);var i=r-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+r},i.prototype.writeUInt8=function(t,e,r){return t=+t,e=0|e,r||z(this,t,e,1,255,0),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t,e+1},i.prototype.writeUInt16LE=function(t,e,r){return t=+t,e=0|e,r||z(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},i.prototype.writeUInt16BE=function(t,e,r){return t=+t,e=0|e,r||z(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):R(this,t,e,!1),e+2},i.prototype.writeUInt32LE=function(t,e,r){return t=+t,e=0|e,r||z(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t):O(this,t,e,!0),e+4},i.prototype.writeUInt32BE=function(t,e,r){return t=+t,e=0|e,r||z(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):O(this,t,e,!1),e+4},i.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e=0|e,!n){var i=Math.pow(2,8*r-1);z(this,t,e,r,i-1,-i)}var a=0,s=1,o=0>t?1:0;for(this[e]=255&t;++a<r&&(s*=256);)this[e+a]=(t/s>>0)-o&255;return e+r},i.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e=0|e,!n){var i=Math.pow(2,8*r-1);z(this,t,e,r,i-1,-i)}var a=r-1,s=1,o=0>t?1:0;for(this[e+a]=255&t;--a>=0&&(s*=256);)this[e+a]=(t/s>>0)-o&255;return e+r},i.prototype.writeInt8=function(t,e,r){return t=+t,e=0|e,r||z(this,t,e,1,127,-128),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=t,e+1},i.prototype.writeInt16LE=function(t,e,r){return t=+t,e=0|e,r||z(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},i.prototype.writeInt16BE=function(t,e,r){return t=+t,e=0|e,r||z(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):R(this,t,e,!1),e+2},i.prototype.writeInt32LE=function(t,e,r){return t=+t,e=0|e,r||z(this,t,e,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):O(this,t,e,!0),e+4},i.prototype.writeInt32BE=function(t,e,r){return t=+t,e=0|e,r||z(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):O(this,t,e,!1),e+4},i.prototype.writeFloatLE=function(t,e,r){return U(this,t,e,!0,r)},i.prototype.writeFloatBE=function(t,e,r){return U(this,t,e,!1,r)},i.prototype.writeDoubleLE=function(t,e,r){return M(this,t,e,!0,r)},i.prototype.writeDoubleBE=function(t,e,r){return M(this,t,e,!1,r)},i.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&r>n&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var a=n-r;if(1e3>a||!i.TYPED_ARRAY_SUPPORT)for(var s=0;a>s;s++)t[s+e]=this[s+r];else t._set(this.subarray(r,r+a),e);return a},i.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),e>r)throw new RangeError("end < start");if(r!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>r||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=e;r>n;n++)this[n]=t;else{var i=N(t.toString()),a=i.length;for(n=e;r>n;n++)this[n]=i[n%a]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var t=new Uint8Array(this.length),e=0,r=t.length;r>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var q=i.prototype;i._augment=function(t){return t.constructor=i,t._isBuffer=!0,t._set=t.set,t.get=q.get,t.set=q.set,t.write=q.write,t.toString=q.toString,t.toLocaleString=q.toString,t.toJSON=q.toJSON,t.equals=q.equals,t.compare=q.compare,t.indexOf=q.indexOf,t.copy=q.copy,t.slice=q.slice,t.readUIntLE=q.readUIntLE,t.readUIntBE=q.readUIntBE,t.readUInt8=q.readUInt8,t.readUInt16LE=q.readUInt16LE,t.readUInt16BE=q.readUInt16BE,t.readUInt32LE=q.readUInt32LE,t.readUInt32BE=q.readUInt32BE,t.readIntLE=q.readIntLE,t.readIntBE=q.readIntBE,t.readInt8=q.readInt8,t.readInt16LE=q.readInt16LE,t.readInt16BE=q.readInt16BE,t.readInt32LE=q.readInt32LE,t.readInt32BE=q.readInt32BE,t.readFloatLE=q.readFloatLE,t.readFloatBE=q.readFloatBE,t.readDoubleLE=q.readDoubleLE,t.readDoubleBE=q.readDoubleBE,t.writeUInt8=q.writeUInt8,t.writeUIntLE=q.writeUIntLE,t.writeUIntBE=q.writeUIntBE,t.writeUInt16LE=q.writeUInt16LE,t.writeUInt16BE=q.writeUInt16BE,t.writeUInt32LE=q.writeUInt32LE,t.writeUInt32BE=q.writeUInt32BE,t.writeIntLE=q.writeIntLE,t.writeIntBE=q.writeIntBE,t.writeInt8=q.writeInt8,t.writeInt16LE=q.writeInt16LE,t.writeInt16BE=q.writeInt16BE,t.writeInt32LE=q.writeInt32LE,t.writeInt32BE=q.writeInt32BE,t.writeFloatLE=q.writeFloatLE,t.writeFloatBE=q.writeFloatBE,t.writeDoubleLE=q.writeDoubleLE,t.writeDoubleBE=q.writeDoubleBE,t.fill=q.fill,t.inspect=q.inspect,t.toArrayBuffer=q.toArrayBuffer,t};var $=/[^+\/0-9A-z\-]/g},{"base64-js":50,ieee754:51,"is-array":52}],50:[function(t,e,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s||e===f?62:e===o||e===d?63:h>e?-1:h+10>e?e-h+26+26:u+26>e?e-u:l+26>e?e-l+26:void 0}function r(t){function r(t){l[f++]=t}var n,i,s,o,h,l;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=t.length;h="="===t.charAt(u-2)?2:"="===t.charAt(u-1)?1:0,l=new a(3*t.length/4-h),s=h>0?t.length-4:t.length;var f=0;for(n=0,i=0;s>n;n+=4,i+=3)o=e(t.charAt(n))<<18|e(t.charAt(n+1))<<12|e(t.charAt(n+2))<<6|e(t.charAt(n+3)),r((16711680&o)>>16),r((65280&o)>>8),r(255&o);return 2===h?(o=e(t.charAt(n))<<2|e(t.charAt(n+1))>>4,r(255&o)):1===h&&(o=e(t.charAt(n))<<10|e(t.charAt(n+1))<<4|e(t.charAt(n+2))>>2,r(o>>8&255),r(255&o)),l}function i(t){function e(t){return n.charAt(t)}function r(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,a,s,o=t.length%3,h="";for(i=0,s=t.length-o;s>i;i+=3)a=(t[i]<<16)+(t[i+1]<<8)+t[i+2],h+=r(a);switch(o){case 1:a=t[t.length-1],h+=e(a>>2),h+=e(a<<4&63),h+="==";break;case 2:a=(t[t.length-2]<<8)+t[t.length-1],h+=e(a>>10),h+=e(a>>4&63),h+=e(a<<2&63),h+="="}return h}var a="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),o="/".charCodeAt(0),h="0".charCodeAt(0),l="a".charCodeAt(0),u="A".charCodeAt(0),f="-".charCodeAt(0),d="_".charCodeAt(0);t.toByteArray=r,t.fromByteArray=i}("undefined"==typeof r?this.base64js={}:r)},{}],51:[function(t,e,r){r.read=function(t,e,r,n,i){var a,s,o=8*i-n-1,h=(1<<o)-1,l=h>>1,u=-7,f=r?i-1:0,d=r?-1:1,c=t[e+f];for(f+=d,a=c&(1<<-u)-1,c>>=-u,u+=o;u>0;a=256*a+t[e+f],f+=d,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=n;u>0;s=256*s+t[e+f],f+=d,u-=8);if(0===a)a=1-l;else{if(a===h)return s?NaN:(c?-1:1)*(1/0);s+=Math.pow(2,n),a-=l}return(c?-1:1)*s*Math.pow(2,a-n)},r.write=function(t,e,r,n,i,a){var s,o,h,l=8*a-i-1,u=(1<<l)-1,f=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,c=n?0:a-1,p=n?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-s))<1&&(s--,h*=2),e+=s+f>=1?d/h:d*Math.pow(2,1-f),e*h>=2&&(s++,h/=2),s+f>=u?(o=0,s=u):s+f>=1?(o=(e*h-1)*Math.pow(2,i),s+=f):(o=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[r+c]=255&o,c+=p,o/=256,i-=8);for(s=s<<i|o,l+=i;l>0;t[r+c]=255&s,c+=p,s/=256,l-=8);t[r+c-p]|=128*g}},{}],52:[function(t,e,r){var n=Array.isArray,i=Object.prototype.toString;e.exports=n||function(t){return!!t&&"[object Array]"==i.call(t)}},{}],"/js/docxgen.js":[function(t,e,r){var n;n=n=function(){function t(e,r){this.moduleManager=new t.ModuleManager,this.moduleManager.gen=this,this.templateClass=this.getTemplateClass(),this.setOptions({}),null!=e&&this.load(e,r)}return t.prototype.attachModule=function(t){return this.moduleManager.attachModule(t),this},t.prototype.setOptions=function(e){return this.options=null!=e?e:{},this.intelligentTagging=null!=this.options.intelligentTagging?this.options.intelligentTagging:!0,null!=this.options.parser&&(this.parser=this.options.parser),null!=this.options.delimiters&&(t.DocUtils.tags=this.options.delimiters),this},t.prototype.getTemplateClass=function(){return t.DocXTemplater},t.prototype.getTemplatedFiles=function(){var t;return t=this.zip.file(/word\/(header|footer)\d+\.xml/).map(function(t){return t.name}),t.concat(["word/document.xml"])},t.prototype.load=function(e,r){return this.moduleManager.sendEvent("loading"),null!=e.file?this.zip=e:this.zip=new t.JSZip(e,r),this.moduleManager.sendEvent("loaded"),this.templatedFiles=this.getTemplatedFiles(),this},t.prototype.renderFile=function(t){var e;return this.moduleManager.sendEvent("rendering-file",t),e=this.createTemplateClass(t),this.zip.file(t,e.render().content),this.moduleManager.sendEvent("rendered-file",t)},t.prototype.render=function(){var t,e,r,n;for(this.moduleManager.sendEvent("rendering"),n=this.templatedFiles,e=0,r=n.length;r>e;e++)t=n[e],null!=this.zip.files[t]&&this.renderFile(t);return this.moduleManager.sendEvent("rendered"),this},t.prototype.getTags=function(){var e,r,n,i,a,s,o;for(n=[],o=this.templatedFiles,a=0,s=o.length;s>a;a++)r=o[a],null!=this.zip.files[r]&&(e=this.createTemplateClass(r),i=e.render().usedTags,t.DocUtils.sizeOfObject(i)&&n.push({fileName:r,vars:i}));return n},t.prototype.setData=function(t){return this.Tags=t,this},t.prototype.getZip=function(){return this.zip},t.prototype.createTemplateClass=function(t){var e;return e=this.zip.files[t].asText(),new this.templateClass(e,{Tags:this.Tags,intelligentTagging:this.intelligentTagging,parser:this.parser,moduleManager:this.moduleManager})},t.prototype.getFullText=function(t){return null==t&&(t="word/document.xml"),this.createTemplateClass(t).getFullText()},t}(),n.DocUtils=t("./docUtils"),n.DocXTemplater=t("./docxTemplater"),n.JSZip=t("jszip"),n.ModuleManager=t("./moduleManager"),n.XmlTemplater=t("./xmlTemplater"),n.XmlMatcher=t("./xmlMatcher"),n.XmlUtil=t("./xmlUtil"),n.SubContent=t("./subContent"),e.exports=n},{"./docUtils":1,"./docxTemplater":2,"./moduleManager":3,"./subContent":5,"./xmlMatcher":7,"./xmlTemplater":8,"./xmlUtil":9,jszip:18}]},{},[])("/js/docxgen.js")});